var uo=Object.defineProperty,lo=Object.defineProperties;var fo=Object.getOwnPropertyDescriptors;var Oa=Object.getOwnPropertySymbols;var co=Object.prototype.hasOwnProperty,ho=Object.prototype.propertyIsEnumerable;var Ia=(t,r,e)=>r in t?uo(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e,Da=(t,r)=>{for(var e in r||(r={}))co.call(r,e)&&Ia(t,e,r[e]);if(Oa)for(var e of Oa(r))ho.call(r,e)&&Ia(t,e,r[e]);return t},La=(t,r)=>lo(t,fo(r));import{r as _e,c as vo,u as po,a as z,j as rt}from"./index.126ad06c.js";import{r as Ra,b as yo,c as go,d as mo}from"./constants.b79771bb.js";function Tt(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function Na(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,n)}return e}function g(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?Na(Object(e),!0).forEach(function(n){Tt(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Na(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}var Zt=function(t){return t!==null&&typeof t!="function"&&isFinite(t.length)},En=function(t,r){if(!Zt(t))return t;for(var e=[],n=0;n<t.length;n++){var a=t[n];r(a,n)&&e.push(a)}return e},xo={}.toString,_o=function(t,r){return xo.call(t)==="[object "+r+"]"},Jt=_o,H=function(t){return Jt(t,"Function")},wo=function(t){return t==null},P=wo,A=function(t){return Array.isArray?Array.isArray(t):Jt(t,"Array")},Re=function(t){var r=typeof t;return t!==null&&r==="object"||r==="function"};function G(t,r){if(!!t){var e;if(A(t))for(var n=0,a=t.length;n<a&&(e=r(t[n],n),e!==!1);n++);else if(Re(t)){for(var i in t)if(t.hasOwnProperty(i)&&(e=r(t[i],i),e===!1))break}}}var ko=function(t){return typeof t=="object"&&t!==null},ce=function(t){if(!ko(t)||!Jt(t,"Object"))return!1;if(Object.getPrototypeOf(t)===null)return!0;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r};function So(t,r,e){e===void 0&&(e=0);for(var n=e;n<t.length;n++)if(r(t[n],n))return n;return-1}var bo=function(t){if(!A(t))return[];for(var r=[],e=0;e<t.length;e++)r=r.concat(t[e]);return r},Mo=function(t){if(!!A(t))return t.reduce(function(r,e){return Math.max(r,e)},t[0])},Po=function(t){if(!!A(t))return t.reduce(function(r,e){return Math.min(r,e)},t[0])},$n=function(t){var r=t.filter(function(o){return!isNaN(o)});if(!r.length)return{min:0,max:0};if(A(t[0])){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);r=e}var a=Mo(r),i=Po(r);return{min:i,max:a}},Co=function(t,r,e){if(!A(t)&&!ce(t))return t;var n=e;return G(t,function(a,i){n=r(n,a,i)}),n},q=function(t){return Jt(t,"String")},Bn=function(t,r){for(var e=[],n={},a=0;a<t.length;a++){var i=t[a],o=i[r];if(!P(o)){A(o)||(o=[o]);for(var s=0;s<o.length;s++){var u=o[s];n[u]||(e.push(u),n[u]=!0)}}}return e};function $t(t){if(Zt(t))return t[0]}function yt(t){if(Zt(t)){var r=t;return r[r.length-1]}}var To=Object.prototype.hasOwnProperty;function Ao(t,r){if(!r||!A(t))return{};for(var e={},n=H(r)?r:function(s){return s[r]},a,i=0;i<t.length;i++){var o=t[i];a=n(o),To.call(e,a)?e[a].push(o):e[a]=[o]}return e}function Oo(t,r){if(!r)return{0:t};if(!H(r)){var e=A(r)?r:r.replace(/\s+/g,"").split("*");r=function(n){for(var a="_",i=0,o=e.length;i<o;i++)a+=n[e[i]]&&n[e[i]].toString();return a}}return Ao(t,r)}var Mr=function(t,r){var e=r.toString(),n=e.indexOf(".");if(n===-1)return Math.round(t);var a=e.substr(n+1).length;return a>20&&(a=20),parseFloat(t.toFixed(a))},W=function(t){return Jt(t,"Number")},Io=Object.values?function(t){return Object.values(t)}:function(t){var r=[];return G(t,function(e,n){H(t)&&n==="prototype"||r.push(e)}),r},Do=function(t){return P(t)?"":t.toString()};function Lo(t,r){return!t||!r?t:t.replace(/\\?\{([^{}]+)\}/g,function(e,n){return e.charAt(0)==="\\"?e.slice(1):r[n]===void 0?"":r[n]})}var Ce=function(t){var r=Do(t);return r.charAt(0).toUpperCase()+r.substring(1)},Ro={}.toString,No=function(t){return Ro.call(t).replace(/^\[object /,"").replace(/]$/,"")},Fn=function(t){return Jt(t,"Boolean")},la=function(t){return Jt(t,"Date")},Yo=Object.prototype,Eo=function(t){var r=t&&t.constructor,e=typeof r=="function"&&r.prototype||Yo;return t===e},Ya=function(t){return t===void 0};function Pr(t,r){for(var e in r)r.hasOwnProperty(e)&&e!=="constructor"&&r[e]!==void 0&&(t[e]=r[e])}function V(t,r,e,n){return r&&Pr(t,r),e&&Pr(t,e),n&&Pr(t,n),t}var jr=function(t){if(typeof t!="object"||t===null)return t;var r;if(A(t)){r=[];for(var e=0,n=t.length;e<n;e++)typeof t[e]=="object"&&t[e]!=null?r[e]=jr(t[e]):r[e]=t[e]}else{r={};for(var a in t)typeof t[a]=="object"&&t[a]!=null?r[a]=jr(t[a]):r[a]=t[a]}return r},$o=function(t,r){if(!H(t))throw new TypeError("Expected a function");var e=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var i=r?r.apply(this,n):n[0],o=e.cache;if(o.has(i))return o.get(i);var s=t.apply(this,n);return o.set(i,s),s};return e.cache=new Map,e},Bo=5;function jn(t,r,e,n){e=e||0,n=n||Bo;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i!==null&&ce(i)?(ce(t[a])||(t[a]={}),e<n?jn(t[a],i,e+1,n):t[a]=r[a]):A(i)?(t[a]=[],t[a]=t[a].concat(i)):i!==void 0&&(t[a]=i)}}var Fo=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];for(var n=0;n<r.length;n+=1)jn(t,r[n]);return t},Bt=Fo,Xn=function(t,r){if(!Zt(t))return-1;var e=Array.prototype.indexOf;if(e)return e.call(t,r);for(var n=-1,a=0;a<t.length;a++)if(t[a]===r){n=a;break}return n},jo=Object.prototype.hasOwnProperty;function Xo(t){if(P(t))return!0;if(Zt(t))return!t.length;var r=No(t);if(r==="Map"||r==="Set")return!t.size;if(Eo(t))return!Object.keys(t).length;for(var e in t)if(jo.call(t,e))return!1;return!0}var Ho=function(t,r){if(!Zt(t))return t;for(var e=[],n=0;n<t.length;n++){var a=t[n];e.push(r(a,n))}return e},zo=Object.prototype.hasOwnProperty,Wo=function(t,r){if(t===null||!ce(t))return{};var e={};return G(r,function(n){zo.call(t,n)&&(e[n]=t[n])}),e},Vo=function(t,r){return Co(t,function(e,n,a){return r.includes(a)||(e[a]=n),e},{})};function Hn(t){return P(t)?0:Zt(t)?t.length:Object.keys(t).length}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xr=function(t,r){return Xr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])},Xr(t,r)};function wt(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Xr(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Hr=function(){return Hr=Object.assign||function(r){for(var e,n=1,a=arguments.length;n<a;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Hr.apply(this,arguments)};function zn(){for(var t=0,r=0,e=arguments.length;r<e;r++)t+=arguments[r].length;for(var n=Array(t),a=0,r=0;r<e;r++)for(var i=arguments[r],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}var Xe;$o(function(t,r){r===void 0&&(r={});var e=r.fontSize,n=r.fontFamily,a=r.fontWeight,i=r.fontStyle,o=r.fontVariant;return Xe||(Xe=document.createElement("canvas").getContext("2d")),Xe.font=[i,o,a,e+"px",n].join(" "),Xe.measureText(q(t)?t:"").width},function(t,r){return r===void 0&&(r={}),zn([t],Io(r)).join("")});function Go(t,r){return t&&g(g({},t),{},{props:g(g({},t.props),r)})}function Wn(t,r){return t&&A(t)?t.map(function(e){return Wn(e,r)}):r(t)}function qo(t,r,e){for(var n={},a=t.length,i=r.length,o=0,s=i;o<s;o++){var u=r[o];if(u&&!P(u.key)){var l=u.key;n[l]=u}}for(var f=0,c=Math.max(a,i);f<c;f++){var h=t[f];if(!h){be(h,r[f],e);continue}var v=h.key;if(!P(h.key)){var p=n[v];p&&delete n[v],be(h,p,e);continue}be(h,r[f],e)}Object.keys(n).forEach(function(y){be(null,n[y],e)})}function be(t,r,e){if(!t||!r){e(t,r);return}if(A(t)||A(r)){var n=A(t)?t:[t],a=A(r)?r:[r];qo(n,a,e);return}e(t,r)}function Vn(t){if(!t)return t;if(!A(t))return[t];for(var r=[],e=0,n=t.length;e<n;e++){var a=t[e];A(a)?r=r.concat(Vn(a)):r.push(a)}return r}var Uo={cloneElement:Go,map:Wn,toArray:Vn,compare:be},Z=Uo;function O(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Ea(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function I(t,r,e){return r&&Ea(t.prototype,r),e&&Ea(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Gn=function(){function t(r,e,n){O(this,t),this.props=r,this.state={},this.context=e,this.updater=n}return I(t,[{key:"willMount",value:function(){}},{key:"didMount",value:function(){}},{key:"willReceiveProps",value:function(e){}},{key:"willUpdate",value:function(){}},{key:"didUpdate",value:function(){}},{key:"render",value:function(){return null}},{key:"didUnmount",value:function(){}},{key:"setState",value:function(e,n){this.updater.enqueueSetState(this,e,n)}},{key:"forceUpdate",value:function(e){this.updater.enqueueForceUpdate(this,{},e)}},{key:"setAnimate",value:function(e){this.animate=e}}]),t}();Gn.prototype.isF2Component=!0;var pe=Gn;function he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zr(t,r){return zr=Object.setPrototypeOf||function(n,a){return n.__proto__=a,n},zr(t,r)}function Y(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&zr(t,r)}function $(t){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$(t)}function Zo(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J(t){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},J(t)}function qn(t,r){if(r&&(J(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return he(t)}function E(t){var r=Zo();return function(){var n=$(t),a;if(r){var i=$(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return qn(this,a)}}var Qe={generateDefault:function(){return[1,0,0,1,0,0]},isChanged:function(r){return r[0]!==1||r[1]!==0||r[2]!==0||r[3]!==1||r[4]!==0||r[5]!==0},multiply:function(r,e){var n=r[0]*e[0]+r[2]*e[1],a=r[1]*e[0]+r[3]*e[1],i=r[0]*e[2]+r[2]*e[3],o=r[1]*e[2]+r[3]*e[3],s=r[0]*e[4]+r[2]*e[5]+r[4],u=r[1]*e[4]+r[3]*e[5]+r[5];return[n,a,i,o,s,u]},scale:function(r,e,n){return r[0]=e[0]*n[0],r[1]=e[1]*n[0],r[2]=e[2]*n[1],r[3]=e[3]*n[1],r[4]=e[4],r[5]=e[5],r},rotate:function(r,e,n){var a=Math.cos(n),i=Math.sin(n),o=e[0]*a+e[2]*i,s=e[1]*a+e[3]*i,u=e[0]*-i+e[2]*a,l=e[1]*-i+e[3]*a;return r[0]=o,r[1]=s,r[2]=u,r[3]=l,r[4]=e[4],r[5]=e[5],r},translate:function(r,e,n){return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4]+e[0]*n[0]+e[2]*n[1],r[5]=e[5]+e[1]*n[0]+e[3]*n[1],r},transform:function(r,e){for(var n=[].concat(r),a=0,i=e.length;a<i;a++){var o=e[a];switch(o[0]){case"t":Qe.translate(n,n,[o[1],o[2]]);break;case"s":Qe.scale(n,n,[o[1],o[2]]);break;case"r":Qe.rotate(n,n,o[1]);break}}return n}},oe=Qe,N={create:function(){return[0,0]},length:function(r){var e=r[0],n=r[1];return Math.sqrt(e*e+n*n)},normalize:function(r,e){var n=this.length(e);return n===0?(r[0]=0,r[1]=0):(r[0]=e[0]/n,r[1]=e[1]/n),r},add:function(r,e,n){return r[0]=e[0]+n[0],r[1]=e[1]+n[1],r},sub:function(r,e,n){return r[0]=e[0]-n[0],r[1]=e[1]-n[1],r},scale:function(r,e,n){return r[0]=e[0]*n,r[1]=e[1]*n,r},dot:function(r,e){return r[0]*e[0]+r[1]*e[1]},direction:function(r,e){return r[0]*e[1]-e[0]*r[1]},angle:function(r,e){var n=this.dot(r,e)/(this.length(r)*this.length(e));return Math.acos(n)},angleTo:function(r,e,n){var a=this.angle(r,e),i=this.direction(r,e)>=0;return n?i?Math.PI*2-a:a:i?a:Math.PI*2-a},zero:function(r){return r[0]===0&&r[1]===0},distance:function(r,e){var n=e[0]-r[0],a=e[1]-r[1];return Math.sqrt(n*n+a*a)},clone:function(r){return[r[0],r[1]]},min:function(r,e,n){return r[0]=Math.min(e[0],n[0]),r[1]=Math.min(e[1],n[1]),r},max:function(r,e,n){return r[0]=Math.max(e[0],n[0]),r[1]=Math.max(e[1],n[1]),r},transformMat2d:function(r,e,n){var a=e[0],i=e[1];return r[0]=n[0]*a+n[2]*i+n[4],r[1]=n[1]*a+n[3]*i+n[5],r}};function ae(t){return[t.x,t.y]}function Jo(t,r,e,n){var a=[],i,o,s=!!n,u,l,f,c,h,v;if(s){for(u=[1/0,1/0],l=[-1/0,-1/0],v=0,h=t.length;v<h;v++)f=ae(t[v]),N.min(u,u,f),N.max(l,l,f);N.min(u,u,n[0]),N.max(l,l,n[1])}for(v=0,c=t.length;v<c;v++){if(f=ae(t[v]),e)i=ae(t[v?v-1:c-1]),o=ae(t[(v+1)%c]);else if(v===0||v===c-1){a.push([f[0],f[1]]);continue}else i=ae(t[v-1]),o=ae(t[v+1]);var p=N.sub([],o,i);N.scale(p,p,r);var y=N.distance(f,i),d=N.distance(f,o),m=y+d;m!==0&&(y/=m,d/=m);var _=N.scale([],p,-y),w=N.scale([],p,d),k=N.add([],f,_),S=N.add([],f,w);s&&(N.max(k,k,u),N.min(k,k,l),N.max(S,S,u),N.min(S,S,l)),a.push([k[0],k[1]]),a.push([S[0],S[1]])}return e&&a.push(a.shift()),a}function rr(t,r,e){for(var n=!!r,a=Jo(t,.4,n,e),i=t.length,o=[],s,u,l,f=0;f<i-1;f++)s=a[f*2],u=a[f*2+1],l=t[f+1],o.push(["C",s[0],s[1],u[0],u[1],l.x,l.y]);return n&&(s=a[i],u=a[i+1],l=t[0],o.push(["C",s[0],s[1],u[0],u[1],l.x,l.y])),o}var He=N.create(),ze=N.create(),We=N.create();function Ko(t,r,e,n,a){var i=$a(a,t.x,r.x,e.x,n.x),o=$a(a,t.y,r.y,e.y,n.y);return{x:i,y:o}}function $a(t,r,e,n,a){var i=t*t,o=i*t;return r+(-r*3+t*(3*r-r*t))*t+(3*e+t*(-6*e+e*3*t))*t+(n*3-n*3*t)*i+a*o}function Qo(t){for(var r=1/0,e=-1/0,n=1/0,a=-1/0,i={x:t[0],y:t[1]},o={x:t[2],y:t[3]},s={x:t[4],y:t[5]},u={x:t[6],y:t[7]},l=0;l<100;l++){var f=Ko(i,o,s,u,l/100);f.x<r&&(r=f.x),f.x>e&&(e=f.x),f.y<n&&(n=f.y),f.y>a&&(a=f.y)}return{minX:r,minY:n,maxX:e,maxY:a}}function fa(t,r){if(t.length!==0){for(var e=t[0],n=e.x,a=e.x,i=e.y,o=e.y,s=t.length,u=1;u<s;u++)e=t[u],n=Math.min(n,e.x),a=Math.max(a,e.x),i=Math.min(i,e.y),o=Math.max(o,e.y);return r=r/2||0,{minX:n-r,minY:i-r,maxX:a+r,maxY:o+r}}}function ts(t,r,e,n,a){return a=a/2||0,{minX:Math.min(t,e)-a,minY:Math.min(r,n)-a,maxX:Math.max(t,e)+a,maxY:Math.max(r,n)+a}}function Wr(t,r,e,n,a,i){var o=Math.abs(n-a);if(o%(Math.PI*2)<1e-4&&o>1e-4)return{minX:t-e,minY:r-e,maxX:t+e,maxY:r+e};He[0]=Math.cos(n)*e+t,He[1]=Math.sin(n)*e+r,ze[0]=Math.cos(a)*e+t,ze[1]=Math.sin(a)*e+r;var s=[0,0],u=[0,0];if(N.min(s,He,ze),N.max(u,He,ze),n=n%(Math.PI*2),n<0&&(n=n+Math.PI*2),a=a%(Math.PI*2),a<0&&(a=a+Math.PI*2),n>a&&!i?a+=Math.PI*2:n<a&&i&&(n+=Math.PI*2),i){var l=a;a=n,n=l}for(var f=0;f<a;f+=Math.PI/2)f>n&&(We[0]=Math.cos(f)*e+t,We[1]=Math.sin(f)*e+r,N.min(s,We,s),N.max(u,We,u));return{minX:s[0],minY:s[1],maxX:u[0],maxY:u[1]}}function es(t,r){for(var e=1/0,n=-1/0,a=1/0,i=-1/0,o=0,s=t.length;o<s;o++){var u=Qo(t[o]);u.minX<e&&(e=u.minX),u.maxX>n&&(n=u.maxX),u.minY<a&&(a=u.minY),u.maxY>i&&(i=u.maxY)}return r=r/2||0,{minX:e-r,minY:a-r,maxX:n+r,maxY:i+r}}var rs=function(){function t(){O(this,t),this.__events={}}return I(t,[{key:"on",value:function(e,n){if(!(!e||!n)){var a=this.__events[e]||[];a.push(n),this.__events[e]=a}}},{key:"emit",value:function(e,n){var a=this;if(Re(e)&&(n=e,e=n&&n.type),!!e){var i=this.__events[e];!i||!i.length||i.forEach(function(o){o.call(a,n)})}}},{key:"off",value:function(e,n){var a=this.__events,i=a[e];if(!(!i||!i.length)){if(!n){delete a[e];return}for(var o=0,s=i.length;o<s;o++)i[o]===n&&(i.splice(o,1),o--)}}}]),t}(),Un=rs;(function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,r)}catch{}return t})();(typeof wx=="undefined"?"undefined":J(wx))==="object"&&wx.getSystemInfoSync;(typeof my=="undefined"?"undefined":J(my))==="object"&&my.getSystemInfoSync;(typeof global=="undefined"||J(global))&&(typeof window=="undefined"||J(window));function as(t){return!t||J(t)!=="object"?!1:t.nodeType===1&&t.nodeName?!0:!!t.isCanvasElement}function ns(){return window&&window.devicePixelRatio||1}function ar(t,r){return t.currentStyle?t.currentStyle[r]:document.defaultView.getComputedStyle(t,null).getPropertyValue(r)}function is(t){var r=ar(t,"width");return r==="auto"&&(r=t.offsetWidth),parseFloat(r)}function os(t){var r=ar(t,"height");return r==="auto"&&(r=t.offsetHeight),parseFloat(r)}function ss(t){return t?document.getElementById(t):null}function Ba(t,r){var e=r.get("el");if(!e)return t;var n=e.getBoundingClientRect(),a=n.top,i=n.left,o=parseFloat(ar(e,"padding-left")),s=parseFloat(ar(e,"padding-top")),u=t.x-i-o,l=t.y-a-s;return{x:u,y:l}}function Fa(t,r){var e=r.get("landscape");if(!e)return t;if(H(e))return e(t,r);var n=r.get("height"),a=t.y,i=n-t.x;return{x:a,y:i}}function us(t,r){var e=t.touches;if(!e){var n=Ba({x:t.clientX,y:t.clientY},r);return[Fa(n,r)]}e.length||(e=t.changedTouches||[]);for(var a=[],i=0,o=e.length;i<o;i++){var s=e[i],u=s.x,l=s.y,f=s.clientX,c=s.clientY,h=void 0;W(u)||W(l)?h={x:u,y:l}:h=Ba({x:f,y:c},r),a.push(Fa(h,r))}return a}function ls(t,r,e){return e||(e=document.createElement("canvas").getContext("2d")),e.font=r||"12px sans-serif",e.measureText(t)}var Ve=us,ja=function(r,e){var n=e.x-r.x,a=e.y-r.y;return Math.abs(n)>Math.abs(a)?n>0?"right":"left":a>0?"down":"up"},Ge=function(r,e){var n=Math.abs(e.x-r.x),a=Math.abs(e.y-r.y);return Math.sqrt(n*n+a*a)},fs=function(r,e){var n=r.x+(e.x-r.x)/2,a=r.y+(e.y-r.y)/2;return{x:n,y:a}},Xa=250,cs=function(){function t(r){var e=this,n=r.canvas,a=r.el;O(this,t),this._click=function(i){var o=Ve(i,e.canvas);i.points=o,e.emitEvent("click",i)},this._start=function(i){var o=Ve(i,e.canvas);!o||(i.points=o,e.emitEvent("touchstart",i),e.reset(),e.startTime=Date.now(),e.startPoints=o,o.length>1?(e.startDistance=Ge(o[0],o[1]),e.center=fs(o[0],o[1])):e.pressTimeout=setTimeout(function(){var s="press",u="none";i.direction=u,e.emitStart(s,i),e.emitEvent(s,i),e.eventType=s,e.direction=u},Xa))},this._move=function(i){var o=Ve(i,e.canvas);if(!!o){e.clearPressTimeout(),i.points=o,e.emitEvent("touchmove",i);var s=e.startPoints;if(!!s)if(o.length>1){var u=e.startDistance,l=Ge(o[0],o[1]);i.zoom=l/u,i.center=e.center,e.emitStart("pinch",i),e.emitEvent("pinch",i)}else{var f=o[0].x-s[0].x,c=o[0].y-s[0].y,h=e.direction||ja(s[0],o[0]);e.direction=h;var v=e.getEventType(o);i.direction=h,i.deltaX=f,i.deltaY=c,e.emitStart(v,i),e.emitEvent(v,i);var p=e.lastMoveTime,y=Date.now();y-p>0&&(e.prevMoveTime=p,e.prevMovePoints=e.lastMovePoints,e.lastMoveTime=y,e.lastMovePoints=o)}}},this._end=function(i){var o=Ve(i,e.canvas);i.points=o,e.emitEnd(i),e.emitEvent("touchend",i);var s=e.lastMoveTime,u=Date.now();if(u-s<100){var l=e.prevMoveTime||e.startTime,f=s-l;if(f>0){var c=e.prevMovePoints||e.startPoints,h=e.lastMovePoints,v=Ge(c[0],h[0])/f;v>.3&&(i.velocity=v,i.direction=ja(c[0],h[0]),e.emitEvent("swipe",i))}}e.reset();var p=i.touches;p&&p.length>0&&e._start(i)},this._cancel=function(i){e.emitEvent("touchcancel",i),e.reset()},this.canvas=n,this.delegateEvent(a),this.processEvent={}}return I(t,[{key:"delegateEvent",value:function(e){e.addEventListener("click",this._click),e.addEventListener("touchstart",this._start),e.addEventListener("touchmove",this._move),e.addEventListener("touchend",this._end),e.addEventListener("touchcancel",this._cancel)}},{key:"emitEvent",value:function(e,n){var a=this.canvas;a.emit(e,n)}},{key:"getEventType",value:function(e){var n=this.eventType,a=this.canvas,i=this.startTime,o=this.startPoints;if(n)return n;var s,u=a.__events.pan;if(!u||!u.length)s="press";else{var l=Date.now();l-i>Xa&&Ge(o[0],e[0])<10?s="press":s="pan"}return this.eventType=s,s}},{key:"enable",value:function(e){this.processEvent[e]=!0}},{key:"isProcess",value:function(e){return this.processEvent[e]}},{key:"emitStart",value:function(e,n){this.isProcess(e)||(this.enable(e),this.emitEvent("".concat(e,"start"),n))}},{key:"emitEnd",value:function(e){var n=this,a=this.processEvent;Object.keys(a).forEach(function(i){n.emitEvent("".concat(i,"end"),e),delete a[i]})}},{key:"clearPressTimeout",value:function(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}},{key:"reset",value:function(){this.clearPressTimeout(),this.startTime=0,this.startPoints=null,this.startDistance=0,this.direction=null,this.eventType=null,this.pinch=!1,this.prevMoveTime=0,this.prevMovePoints=null,this.lastMoveTime=0,this.lastMovePoints=null}}]),t}(),hs=cs,vs=function(t){Y(e,t);var r=E(e);function e(n){var a;O(this,e),a=r.call(this),a.context=n;var i=n.canvas||{};return a.width=i.width||0,a.height=i.height||0,a.style={},a.currentStyle={},a.attrs={},a.isCanvasElement=!0,a}return I(e,[{key:"getContext",value:function(){return this.context}},{key:"getBoundingClientRect",value:function(){var a=this.width,i=this.height;return{top:0,right:a,bottom:i,left:0}}},{key:"setAttribute",value:function(a,i){this.attrs[a]=i}},{key:"addEventListener",value:function(a,i){this.on(a,i)}},{key:"removeEventListener",value:function(a,i){this.off(a,i)}},{key:"dispatchEvent",value:function(a,i){this.emit(a,i)}}]),e}(Un);function ps(t){if(!t||t.nodeType!==1||!t.nodeName||t.nodeName.toLowerCase()!=="canvas")return!1;var r=!1;try{t.addEventListener("eventTest",function(){r=!0}),t.dispatchEvent(new Event("eventTest"))}catch{r=!1}return r}var ys={create:function(r){return r?ps(r.canvas)?r.canvas:new vs(r):null}};function Zn(t,r){if(!!t){var e=t.indexOf(r);e!==-1&&t.splice(e,1)}}function ds(t,r){return(t%r+r)%r}function Jn(t,r){G(t,function(e){e=e.split(":"),r.addColorStop(Number(e[0]),e[1])})}function gs(t,r,e){var n=t.split(" "),a=n[0].slice(2,n[0].length-1);a=ds(parseFloat(a)*Math.PI/180,Math.PI*2);var i=n.slice(1),o=r.getBBox(),s=o.minX,u=o.minY,l=o.maxX,f=o.maxY,c,h;a>=0&&a<.5*Math.PI?(c={x:s,y:u},h={x:l,y:f}):.5*Math.PI<=a&&a<Math.PI?(c={x:l,y:u},h={x:s,y:f}):Math.PI<=a&&a<1.5*Math.PI?(c={x:l,y:f},h={x:s,y:u}):(c={x:s,y:f},h={x:l,y:u});var v=Math.tan(a),p=v*v,y=(h.x-c.x+v*(h.y-c.y))/(p+1)+c.x,d=v*(h.x-c.x+v*(h.y-c.y))/(p+1)+c.y,m=e.createLinearGradient(c.x,c.y,y,d);return Jn(i,m),m}function ms(t,r,e){var n=t.split(" "),a=n[0].slice(2,n[0].length-1);a=a.split(",");var i=parseFloat(a[0]),o=parseFloat(a[1]),s=parseFloat(a[2]),u=n.slice(1);if(s===0){var l=u[u.length-1];return l.split(":")[1]}var f=r.getBBox(),c=f.width,h=f.height,v=f.minX,p=f.minY,y=Math.sqrt(c*c+h*h)/2,d=e.createRadialGradient(v+c*i,p+h*o,s*y,v+c/2,p+h/2,y);return Jn(u,d),d}function xs(t,r,e){if(t[1]==="(")try{var n=t[0];if(n==="l")return gs(t,r,e);if(n==="r")return ms(t,r,e)}catch(a){console.error("error in parsing gradient string, please check if there are any extra whitespaces."),console.error(a)}return t}var _s={stroke:"strokeStyle",fill:"fillStyle",opacity:"globalAlpha"},ws=["fillStyle","font","globalAlpha","lineCap","lineWidth","lineJoin","miterLimit","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","strokeStyle","textAlign","textBaseline","lineDash","shadow"],ks=["circle","sector","polygon","rect","polyline"],Ss=function(){function t(r){O(this,t),this._initProperties(),V(this._attrs,r);var e=this._attrs.attrs;e&&this.initAttrs(e),this.initTransform()}return I(t,[{key:"_initProperties",value:function(){this._attrs=g(g({},this._attrs),{},{zIndex:0,visible:!0,destroyed:!1})}},{key:"get",value:function(e){return this._attrs[e]}},{key:"set",value:function(e,n){this._attrs[e]=n}},{key:"isGroup",value:function(){return this.get("isGroup")}},{key:"isShape",value:function(){return this.get("isShape")}},{key:"initAttrs",value:function(e){this.attr(V(this.getDefaultAttrs(),e))}},{key:"getDefaultAttrs",value:function(){return{}}},{key:"_setAttr",value:function(e,n){var a=this._attrs.attrs;if(e==="clip")n=this._setAttrClip(n);else{var i=_s[e];i&&(a[i]=n)}a[e]=n}},{key:"_getAttr",value:function(e){var n,a;return(n=this._attrs)===null||n===void 0||(a=n.attrs)===null||a===void 0?void 0:a[e]}},{key:"_afterAttrsSet",value:function(){}},{key:"_setAttrClip",value:function(e){return e&&ks.indexOf(e._attrs.type)>-1?(e.get("canvas")===null&&(e=g({},e)),e.set("parent",this.get("parent")),e.set("context",this.get("context")),e):null}},{key:"attr",value:function(e,n){if(this.get("destroyed"))return null;var a=arguments.length;if(a===0)return this._attrs.attrs;if(Re(e)){this._attrs.bbox=null;for(var i in e)this._setAttr(i,e[i]);return this._afterAttrsSet&&this._afterAttrsSet(),this}return a===2?(this._attrs.bbox=null,this._setAttr(e,n),this._afterAttrsSet&&this._afterAttrsSet(),this):this._getAttr(e)}},{key:"getParent",value:function(){return this.get("parent")}},{key:"draw",value:function(e){this.get("destroyed")||this.get("visible")&&(this.setContext(e),this.drawInner(e),this.restoreContext(e))}},{key:"setContext",value:function(e){var n=this._attrs.attrs.clip;e.save(),n&&!n._attrs.destroyed&&(n.resetTransform(e),n.createPath(e),e.clip()),this.resetContext(e),this.resetTransform(e)}},{key:"restoreContext",value:function(e){e.restore()}},{key:"resetContext",value:function(e){var n=this._attrs.attrs;for(var a in n)if(ws.indexOf(a)>-1){var i=n[a];(a==="fillStyle"||a==="strokeStyle")&&i&&(i=xs(i,this,e)),a==="lineDash"&&e.setLineDash&&A(i)?e.setLineDash(i):e[a]=i}}},{key:"hasFill",value:function(){return this.get("canFill")&&this._attrs.attrs.fillStyle}},{key:"hasStroke",value:function(){return this.get("canStroke")&&this._attrs.attrs.strokeStyle}},{key:"drawInner",value:function(e){}},{key:"show",value:function(){return this.set("visible",!0),this}},{key:"hide",value:function(){return this.set("visible",!1),this}},{key:"isVisible",value:function(){return this.get("visible")}},{key:"getAriaLabel",value:function(){var e=this._attrs,n=e.destroyed,a=e.visible,i=e.isShape,o=e.aria;if(!(n||!a||i&&!o))return this._getAriaLabel()}},{key:"_getAriaLabel",value:function(){return this._attrs.ariaLabel}},{key:"_removeFromParent",value:function(){var e=this.get("parent");if(e){var n=e.get("children");Zn(n,this)}return this}},{key:"remove",value:function(e){e?this.destroy():this._removeFromParent()}},{key:"destroy",value:function(){var e=this.get("destroyed");if(e)return null;this._removeFromParent(),this._attrs={},this.set("destroyed",!0)}},{key:"getBBox",value:function(){return{minX:0,maxX:0,minY:0,maxY:0,width:0,height:0}}},{key:"initTransform",value:function(){var e=this._attrs.attrs;e||(e={}),e.matrix||(e.matrix=[1,0,0,1,0,0]),this._attrs.attrs=e}},{key:"getMatrix",value:function(){return this._attrs.attrs.matrix}},{key:"setMatrix",value:function(e){this._attrs.attrs.matrix=[e[0],e[1],e[2],e[3],e[4],e[5]]}},{key:"transform",value:function(e){var n=this._attrs.attrs.matrix;return this._attrs.attrs.matrix=oe.transform(n,e),this}},{key:"setTransform",value:function(e){return this._attrs.attrs.matrix=[1,0,0,1,0,0],this.transform(e)}},{key:"translate",value:function(e,n){var a=this._attrs.attrs.matrix;oe.translate(a,a,[e,n])}},{key:"rotate",value:function(e){var n=this._attrs.attrs.matrix;oe.rotate(n,n,e)}},{key:"scale",value:function(e,n){var a=this._attrs.attrs.matrix;oe.scale(a,a,[e,n])}},{key:"moveTo",value:function(e,n){var a=this._attrs.x||0,i=this._attrs.y||0;this.translate(e-a,n-i),this.set("x",e),this.set("y",n)}},{key:"apply",value:function(e){var n=this._attrs.attrs.matrix;return N.transformMat2d(e,e,n),this}},{key:"resetTransform",value:function(e){var n=this._attrs.attrs.matrix;oe.isChanged(n)&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5])}},{key:"isDestroyed",value:function(){return this.get("destroyed")}}]),t}(),bs=Ss,Ms=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){this._attrs=g(g({},this._attrs),{},{zIndex:0,visible:!0,destroyed:!1,isShape:!0,attrs:{}})}},{key:"getType",value:function(){return this._attrs.type}},{key:"drawInner",value:function(a){var i=this.get("attrs");this.createPath(a);var o=a.globalAlpha;if(this.hasFill()){var s=i.fillOpacity;!P(s)&&s!==1?(a.globalAlpha=s,a.fill(),a.globalAlpha=o):a.fill()}if(this.hasStroke()){var u=i.lineWidth;if(u>0){var l=i.strokeOpacity;!P(l)&&l!==1&&(a.globalAlpha=l),a.stroke()}}}},{key:"getBBox",value:function(){var a=this._attrs.bbox;return a||(a=this.calculateBox(),a&&(a.x=a.minX,a.y=a.minY,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY),this._attrs.bbox=a),a}},{key:"calculateBox",value:function(){return null}},{key:"createPath",value:function(a){}}]),e}(bs),F=Ms;function Ps(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&(t=$(t),t!==null););return t}function B(){return typeof Reflect!="undefined"&&Reflect.get?B=Reflect.get:B=function(r,e,n){var a=Ps(r,e);if(!!a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(arguments.length<3?r:n):i.value}},B.apply(this,arguments)}function Cs(t){if(W(t)||q(t))return[t,t,t,t];var r=t[0],e=t[1]?t[1]:t[0],n=t[2]?t[2]:r,a=t[3]?t[3]:e;return[r,e,n,a]}function Ts(t,r,e){if(t=Cs(t),!t[0]&&!t[1]&&!t[2]&&!t[3])return t;var n=Math.max(t[0]+t[1],t[2]+t[3]),a=Math.max(t[0]+t[3],t[1]+t[2]),i=Math.min(r/n,e/a);return i<1?t.map(function(o){return o*i}):t}var As=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="rect"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,width:0,height:0,radius:0,lineWidth:0}}},{key:"createRadiusPath",value:function(a,i,o,s,u,l){l=Ts(l,s,u),a.moveTo(i+l[0],o),a.lineTo(i+s-l[1],o),a.arc(i+s-l[1],o+l[1],l[1],-Math.PI/2,0,!1),a.lineTo(i+s,o+u-l[2]),a.arc(i+s-l[2],o+u-l[2],l[2],0,Math.PI/2,!1),a.lineTo(i+l[3],o+u),a.arc(i+l[3],o+u-l[3],l[3],Math.PI/2,Math.PI,!1),a.lineTo(i,o+l[0]),a.arc(i+l[0],o+l[0],l[0],Math.PI,Math.PI*3/2,!1),a.closePath()}},{key:"createPath",value:function(a){var i=this.get("attrs"),o=i.x,s=i.y,u=i.width,l=i.height,f=i.radius;a.beginPath(),!f||!(u*l)?a.rect(o,s,u,l):this.createRadiusPath(a,o,s,u,l,f)}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,o=a.y,s=a.width,u=a.height;return{minX:i,minY:o,maxX:i+s,maxY:o+u}}}]),e}(F),ca=As,Cr={},Os=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!1,this._attrs.canStroke=!1,this._attrs.loading=!1,this._attrs.image=null,this._attrs.type="image"}},{key:"draw",value:function(a){var i=this;if(!this.get("loading")){var o=this.get("image");if(o){B($(e.prototype),"draw",this).call(this,a);return}var s=this.get("attrs"),u=s.src;if(u&&window.Image){var l=this.get("cacheImage");if(l&&Cr[u]){this.set("image",Cr[u]),this.draw(a);return}this.set("loading",!0);var f=new Image;f.crossOrigin="",f.onload=function(){i.set("loading",!1),i.set("image",f),i.draw(a)},f.src=u,l&&(Cr[u]=f)}}}},{key:"createPath",value:function(a){var i=this.get("image");this.drawImage(a,i)}},{key:"drawImage",value:function(a,i){var o=this._attrs,s=o.attrs,u=o.destroyed;if(!u){var l=s.x,f=s.y,c=s.width,h=s.height,v=s.sx,p=s.sy,y=s.swidth,d=s.sheight,m=s.radius,_=s.fillOpacity;m&&(a.save(),this.createRadiusPath(a,l,f,c,h,m),a.clip());var w=a.globalAlpha;P(_)||(a.globalAlpha=_),!P(v)&&!P(p)&&!P(y)&&!P(d)?a.drawImage(i,v,p,y,d,l,f,c,h):a.drawImage(i,l,f,c,h),a.globalAlpha=w,m&&a.restore()}}}]),e}(ca),Is=Os,Ds=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="circle"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,r:0,lineWidth:0}}},{key:"createPath",value:function(a){var i=this.get("attrs"),o=i.x,s=i.y,u=i.r;a.beginPath(),a.arc(o,s,u,0,Math.PI*2,!1),a.closePath()}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,o=a.y,s=a.r;return{minX:i-s,maxX:i+s,minY:o-s,maxY:o+s}}}]),e}(F),Ls=Ds,Rs=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canStroke=!0,this._attrs.type="line"}},{key:"getDefaultAttrs",value:function(){return{x1:0,y1:0,x2:0,y2:0,lineWidth:1}}},{key:"createPath",value:function(a){var i=this.get("attrs"),o=i.x1,s=i.y1,u=i.x2,l=i.y2;a.beginPath(),a.moveTo(o,s),a.lineTo(u,l)}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x1,o=a.y1,s=a.x2,u=a.y2,l=a.lineWidth;return ts(i,o,s,u,l)}}]),e}(F),Ns=Rs,Ys=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polygon"}},{key:"getDefaultAttrs",value:function(){return{points:null,lineWidth:0}}},{key:"createPath",value:function(a){var i=this.get("attrs"),o=i.points;a.beginPath();for(var s=0,u=o.length;s<u;s++){var l=o[s];s===0?a.moveTo(l.x,l.y):a.lineTo(l.x,l.y)}a.closePath()}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.points;return fa(i)}}]),e}(F),Es=Ys;function Ha(t){for(var r=[],e=0,n=t.length;e<n;e++){var a=t[e];!isNaN(a.x)&&!isNaN(a.y)&&r.push(a)}return r}var $s=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="polyline"}},{key:"getDefaultAttrs",value:function(){return{points:null,lineWidth:1,smooth:!1}}},{key:"createPath",value:function(a){var i=this.get("attrs"),o=i.points,s=i.smooth,u=Ha(o);if(a.beginPath(),u.length)if(a.moveTo(u[0].x,u[0].y),s)for(var l=[[0,0],[1,1]],f=rr(u,!1,l),c=0,h=f.length;c<h;c++){var v=f[c];a.bezierCurveTo(v[1],v[2],v[3],v[4],v[5],v[6])}else{var p,y;for(p=1,y=u.length-1;p<y;p++)a.lineTo(u[p].x,u[p].y);a.lineTo(u[y].x,u[y].y)}}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.points,o=a.smooth,s=a.lineWidth,u=Ha(i);if(o){for(var l=[],f=[[0,0],[1,1]],c=rr(u,!1,f),h=0,v=c.length;h<v;h++){var p=c[h];if(h===0)l.push([u[0].x,u[0].y,p[1],p[2],p[3],p[4],p[5],p[6]]);else{var y=c[h-1];l.push([y[5],y[6],p[1],p[2],p[3],p[4],p[5],p[6]])}}return es(l,s)}return fa(u,s)}}]),e}(F),Bs=$s,Fs=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canStroke=!0,this._attrs.canFill=!0,this._attrs.type="arc"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,r:0,startAngle:0,endAngle:Math.PI*2,anticlockwise:!1,lineWidth:1}}},{key:"createPath",value:function(a){var i=this.get("attrs"),o=i.x,s=i.y,u=i.r,l=i.startAngle,f=i.endAngle,c=i.anticlockwise;a.beginPath(),l!==f&&a.arc(o,s,u,l,f,c)}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,o=a.y,s=a.r,u=a.startAngle,l=a.endAngle,f=a.anticlockwise;return Wr(i,o,s,u,l,f)}}]),e}(F),js=Fs,Xs=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="sector"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,lineWidth:0,r:0,r0:0,startAngle:0,endAngle:Math.PI*2,anticlockwise:!1}}},{key:"createPath",value:function(a){var i=this.get("attrs"),o=i.x,s=i.y,u=i.startAngle,l=i.r,f=i.r0,c=i.anticlockwise,h=Math.min(i.endAngle,u+Math.PI*2);a.beginPath();var v=Math.cos(u),p=Math.sin(u);a.moveTo(v*f+o,p*f+s),a.lineTo(v*l+o,p*l+s),(Math.abs(h-u)>1e-4||u===0&&h<0)&&(a.arc(o,s,l,u,h,c),a.lineTo(Math.cos(h)*f+o,Math.sin(h)*f+s),f!==0&&a.arc(o,s,f,h,u,!c)),a.closePath()}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,o=a.y,s=a.r,u=a.r0,l=a.startAngle,f=a.endAngle,c=a.anticlockwise,h=Wr(i,o,s,l,f,c),v=Wr(i,o,u,l,f,c);return{minX:Math.min(h.minX,v.minX),minY:Math.min(h.minY,v.minY),maxX:Math.max(h.maxX,v.maxX),maxY:Math.max(h.maxY,v.maxY)}}}]),e}(F),Hs=Xs,zs={calcRotatedBox:function(r){var e=r.width,n=r.height,a=r.rotate,i=Math.abs(a);return{width:Math.abs(e*Math.cos(i)+n*Math.sin(i)),height:Math.abs(n*Math.cos(i)+e*Math.sin(i))}}},Ws=zs,za=ls,Tr=0,qe={},Vs=5e3,Gs=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="text"}},{key:"getDefaultAttrs",value:function(){return{lineWidth:0,lineCount:1,fontSize:12,fontFamily:"",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom",lineHeight:null,textArr:null}}},{key:"_getFontStyle",value:function(){var a=this._attrs.attrs,i=a.fontSize,o=a.fontFamily,s=a.fontWeight,u=a.fontStyle,l=a.fontVariant;return"".concat(u," ").concat(l," ").concat(s," ").concat(i,"px ").concat(o)}},{key:"_afterAttrsSet",value:function(){var a=this._attrs.attrs;if(a.font=this._getFontStyle(),a.text){var i=a.text,o=null,s=1;q(i)&&i.indexOf(`
`)!==-1&&(o=i.split(`
`),s=o.length),a.lineCount=s,a.textArr=o}this.set("attrs",a)}},{key:"_getTextHeight",value:function(){var a=this._attrs.attrs;if(a.height)return a.height;var i=a.lineCount,o=a.fontSize*1;if(i>1){var s=this._getSpaceingY();return o*i+s*(i-1)}return o}},{key:"_getSpaceingY",value:function(){var a=this._attrs.attrs,i=a.lineHeight,o=a.fontSize*1;return i?i-o:o*.14}},{key:"drawInner",value:function(a){var i=this._attrs.attrs,o=i.text,s=i.x,u=i.y;if(!(P(o)||isNaN(s)||isNaN(u))){var l=i.textArr,f=i.fontSize*1,c=this._getSpaceingY();i.rotate&&(a.translate(s,u),a.rotate(i.rotate),s=0,u=0);var h=i.textBaseline,v;l&&(v=this._getTextHeight());var p;if(this.hasFill()){var y=i.fillOpacity;if(!P(y)&&y!==1&&(a.globalAlpha=y),l)for(var d=0,m=l.length;d<m;d++){var _=l[d];p=u+d*(c+f)-v+f,h==="middle"&&(p+=v-f-(v-f)/2),h==="top"&&(p+=v-f),a.fillText(_,s,p)}else a.fillText(o,s,u)}if(this.hasStroke())if(l)for(var w=0,k=l.length;w<k;w++){var S=l[w];p=u+w*(c+f)-v+f,h==="middle"&&(p+=v-f-(v-f)/2),h==="top"&&(p+=v-f),a.strokeText(S,s,p)}else a.strokeText(o,s,u)}}},{key:"_getAriaLabel",value:function(){return this._attrs.attrs.text}},{key:"calculateBox",value:function(){var a=this._attrs.attrs,i=a.x,o=a.y,s=a.textAlign,u=a.textBaseline,l=this._getTextWidth();if(!l)return{minX:i,minY:o,maxX:i,maxY:o};var f=this._getTextHeight();if(a.rotate){var c=Ws.calcRotatedBox({width:l,height:f,rotate:a.rotate});l=c.width,f=c.height}var h={x:i,y:o-f};return s&&(s==="end"||s==="right"?h.x-=l:s==="center"&&(h.x-=l/2)),u&&(u==="top"?h.y+=f:u==="middle"&&(h.y+=f/2)),{minX:h.x,minY:h.y,maxX:h.x+l,maxY:h.y+f}}},{key:"_getTextWidth",value:function(){var a=this._attrs.attrs;if(a.width)return a.width;var i=a.text,o=this.get("context");if(!P(i)){var s=a.font,u=a.textArr,l=i+""+s;if(qe[l])return qe[l];var f=0;if(u)for(var c=0,h=u.length;c<h;c++){var v=u[c];f=Math.max(f,za(v,s,o).width)}else f=za(i,s,o).width;return Tr>Vs&&(Tr=0,qe={}),Tr++,qe[l]=f,f}}}]),e}(F),qs=Gs,Us=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.createPath=null,this._attrs.type="custom"}},{key:"createPath",value:function(a){var i=this.get("createPath");i&&i.call(this,a)}},{key:"calculateBox",value:function(){var a=this.get("calculateBox");return a&&a.call(this)}}]),e}(F),Zs=Us,Js={circle:function(r,e,n,a){a.arc(r,e,n,0,Math.PI*2,!1)},square:function(r,e,n,a){a.moveTo(r-n,e-n),a.lineTo(r+n,e-n),a.lineTo(r+n,e+n),a.lineTo(r-n,e+n),a.closePath()}},Ks=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){B($(e.prototype),"_initProperties",this).call(this),this._attrs.canFill=!0,this._attrs.canStroke=!0,this._attrs.type="marker"}},{key:"getDefaultAttrs",value:function(){return{x:0,y:0,lineWidth:0}}},{key:"createPath",value:function(a){var i=this.get("attrs"),o=i.x,s=i.y,u=i.radius,l=i.symbol||"circle",f;H(l)?f=l:f=Js[l],a.beginPath(),f(o,s,u,a,this)}},{key:"calculateBox",value:function(){var a=this.get("attrs"),i=a.x,o=a.y,s=a.radius;return{minX:i-s,minY:o-s,maxX:i+s,maxY:o+s}}}]),e}(F),Qs=Ks;F.Rect=ca;F.Image=Is;F.Circle=Ls;F.Line=Ns;F.Polygon=Es;F.Polyline=Bs;F.Arc=js;F.Sector=Hs;F.Text=qs;F.Custom=Zs;F.Marker=Qs;var Wa={},Vr="_INDEX";function tu(t){return function(r,e){var n=t(r,e);return n===0?r[Vr]-e[Vr]:n}}var Kn={getGroupClass:function(){},getChildren:function(){return this.get("children")},addShape:function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Wa[r];n||(n=Ce(r),Wa[r]=n);var a=new F[n](e);return this.add(a),a},addGroup:function(r){var e=this.getGroupClass(),n=new e(r);return this.add(n),n},contain:function(r){var e=this.get("children");return e.indexOf(r)>-1},sort:function(){for(var r=this.get("children"),e=0,n=r.length;e<n;e++){var a=r[e];a[Vr]=e}return r.sort(tu(function(i,o){return i.get("zIndex")-o.get("zIndex")})),this},drawChildren:function(r){for(var e=this.get("children"),n=0,a=e.length;n<a;n++){var i=e[n];i.draw(r)}return this},clear:function(){for(var r=this.get("children");r.length!==0;)r[r.length-1].remove(!0);return this},add:function(r){var e=this.get("children");A(r)||(r=[r]);for(var n=0,a=r.length;n<a;n++){var i=r[n],o=i.get("parent");if(o){var s=o.get("children");Zn(s,i)}this._setEvn(i),e.push(i)}return this},_setEvn:function(r){var e=this._attrs,n=e.context,a=e.canvas,i=e.aria,o=r._attrs,s=o.isGroup,u=o.type;r._attrs.parent=this,r._attrs.context=n,r._attrs.canvas=a,i&&r._attrs.aria!==!1&&(r._attrs.aria=i),u==="text"&&a&&a.get("fontFamily")&&!r._attrs.attrs.fontFamily&&r.attr("fontFamily",a.get("fontFamily"));var l=r._attrs.attrs.clip;if(l&&(l._attrs.parent=this,l._attrs.context=n,l._attrs.canvas=a),s)for(var f=r._attrs.children,c=0,h=f.length;c<h;c++)r._setEvn(f[c])},_getAriaLabel:function(){var r=this._attrs,e=r.aria,n=r.ariaLabel,a=r.children;if(!!e){var i=[];if(a&&a.length)for(var o=0,s=a.length;o<s;o++){var u=a[o].getAriaLabel();u&&i.push(u)}var l=i.join(" ");return n&&l?"".concat(n," ").concat(l," "):n||l}}},Gr=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"_initProperties",value:function(){this._attrs={type:"group",zIndex:0,visible:!0,destroyed:!1,isGroup:!0,canFill:!0,canStroke:!0,children:[],attrs:{x:0,y:0,width:0,height:0,radius:0,lineWidth:0}}}},{key:"getBBox",value:function(){for(var a=1/0,i=-1/0,o=1/0,s=-1/0,u=this.get("children"),l=0,f=u.length;l<f;l++){var c=u[l];if(c.get("visible")){var h=c.getBBox();if(!h)continue;var v=[h.minX,h.minY],p=[h.minX,h.maxY],y=[h.maxX,h.minY],d=[h.maxX,h.maxY],m=c.attr("matrix");N.transformMat2d(v,v,m),N.transformMat2d(p,p,m),N.transformMat2d(y,y,m),N.transformMat2d(d,d,m),a=Math.min(v[0],p[0],y[0],d[0],a),i=Math.max(v[0],p[0],y[0],d[0],i),o=Math.min(v[1],p[1],y[1],d[1],o),s=Math.max(v[1],p[1],y[1],d[1],s)}}return{minX:a,minY:o,maxX:i,maxY:s,x:a,y:o,width:i-a,height:s-o}}},{key:"createPath",value:function(a){var i=this.get("attrs");!i.fillStyle&&!i.strokeStyle||B($(e.prototype),"createPath",this).call(this,a)}},{key:"drawInner",value:function(a){B($(e.prototype),"drawInner",this).call(this,a),this.drawChildren(a)}},{key:"destroy",value:function(){this.get("destroyed")||(this.clear(),B($(e.prototype),"destroy",this).call(this))}}]),e}(ca);V(Gr.prototype,Kn,{getGroupClass:function(){return Gr}});var Qn=Gr,eu=(typeof window=="undefined"?"undefined":J(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)},Va={general:{title:"\u8FD9\u662F\u4E00\u4E2A\u56FE\u8868\uFF0C",withTitle:"\u8FD9\u662F\u4E00\u4E2A\u5173\u4E8E\u201C{title}\u201D\u7684\u56FE\u8868\u3002"},coord:{cartesian:"X\u8F74\u662F{xLabel}Y\u8F74\u662F{yLabel}"},scale:{linear:"\u6570\u503C\u578B\uFF0C\u6570\u636E\u6700\u5C0F\u503C\u4E3A{min}\uFF0C\u6700\u5927\u503C\u4E3A{max}\uFF1B",cat:"\u5206\u7C7B\u578B, \u5206\u7C7B\u7C7B\u578B\u6709\uFF1A{values}\uFF1B",timeCat:"\u65F6\u95F4\u578B\uFF0C\u65F6\u95F4\u8303\u56F4\u4ECE{start}\u5230{end}\uFF1B"},geometry:{prefix:"\u5171\u6709{count}\u79CD\u5206\u7C7B\u7EC4\u6210\uFF0C",oneData:"\u7B2C{index}\u7C7B\u662F{name}\uFF0C\u6570\u636E\u662F{values};",partData:"\u7B2C{index}\u7C7B\u662F{name}\uFF0C\u5171\u6709{count}\u9879\u6570\u636E\uFF0C\u524D{part}\u9879\u662F{values};",allData:"\u7B2C{index}\u7C7B\u662F{name}\uFF0C\u6709{count}\u9879\u6570\u636E\uFF0C\u5206\u522B\u662F{values};"},legend:{prefix:"\u56FE\u4F8B\u5206\u7C7B\u6709\uFF1A"}},ru=ns,au=ss,nu=is,iu=os,ou=as,ti=function(t){Y(e,t);var r=E(e);function e(n){var a;O(this,e),a=r.call(this);var i=n.title,o=i?Lo(Va.general.withTitle,{title:i}):Va.general.title;return a._attrs=V({type:"canvas",children:[],ariaLabel:o},n),a._initPixelRatio(),a._initCanvas(),a}return I(e,[{key:"get",value:function(a){return this._attrs[a]}},{key:"set",value:function(a,i){this._attrs[a]=i}},{key:"_initPixelRatio",value:function(){var a=this.get("pixelRatio");a||this.set("pixelRatio",ru())}},{key:"beforeDraw",value:function(){var a=this._attrs.context,i=this._attrs.el;a&&a.clearRect&&a.clearRect(0,0,i.width,i.height)}},{key:"_initCanvas",value:function(){var a=this.get("el"),i=this.get("context");if(!a&&!i)throw new Error("Please specify the id, el or context of the chart!");var o;a?o=q(a)?au(a):a:o=ys.create(i),i&&o&&!o.getContext&&(o.getContext=function(){return i});var s=this.get("width")||nu(o)||o.width,u=this.get("height")||iu(o)||o.height;this.set("canvas",this),this.set("el",o),this.set("context",i||o.getContext("2d")),this.changeSize(s,u);var l=new hs({canvas:this,el:o});this.set("eventController",l)}},{key:"changeSize",value:function(a,i){var o=this.get("pixelRatio"),s=this.get("el");if(s.style&&(s.style.width=a+"px",s.style.height=i+"px"),ou(s)&&(s.width=a*o,s.height=i*o,o!==1)){var u=this.get("context");u.scale(o,o)}this.set("width",a),this.set("height",i)}},{key:"getWidth",value:function(){var a=this.get("pixelRatio"),i=this.get("width");return i*a}},{key:"getHeight",value:function(){var a=this.get("pixelRatio"),i=this.get("height");return i*a}},{key:"getPointByClient",value:function(a,i){var o=this.get("el"),s=o.getBoundingClientRect(),u=s.right-s.left,l=s.bottom-s.top;return{x:(a-s.left)*(o.width/u),y:(i-s.top)*(o.height/l)}}},{key:"_beginDraw",value:function(){this._attrs.toDraw=!0}},{key:"_endDraw",value:function(){this._attrs.toDraw=!1}},{key:"draw",value:function(){var a=this,i=function o(){a.set("animateHandler",eu(function(){a.set("animateHandler",void 0),a.get("toDraw")&&o()})),a.beforeDraw();try{var s=a._attrs.context;a.drawChildren(s),s.draw&&s.draw(),a.setAriaLabel()}catch(u){console.warn("error in draw canvas, detail as:"),console.warn(u),a._endDraw()}a._endDraw()};this.get("destroyed")||(this.get("animateHandler")?this._beginDraw():i())}},{key:"setAriaLabel",value:function(){var a=this._attrs.el,i=this._getAriaLabel();i&&a.setAttribute&&a.setAttribute("aria-label",i)}},{key:"destroy",value:function(){if(!this.get("destroyed")){var a=this.get("el");a.width=0,a.height=0,this.clear(),this._attrs={},this.set("destroyed",!0)}}},{key:"isDestroyed",value:function(){return this.get("destroyed")}}]),e}(Un);V(ti.prototype,Kn,{getGroupClass:function(){return Qn}});var su=ti,uu={};function lu(t){var r=uu[t];return r||{Canvas:su,Group:Qn,Shape:F}}function fu(t){var r=t.renderer,e=lu(r);return new e.Canvas(t)}function cu(t){if(Array.isArray(t))return t}function hu(t,r){var e=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var n=[],a=!0,i=!1,o,s;try{for(e=e.call(t);!(a=(o=e.next()).done)&&(n.push(o.value),!(r&&n.length===r));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&e.return!=null&&e.return()}finally{if(i)throw s}}return n}}function qr(t,r){(r==null||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}function ei(t,r){if(!!t){if(typeof t=="string")return qr(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return qr(t,r)}}function vu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pt(t,r){return cu(t)||hu(t,r)||ei(t,r)||vu()}var pu=function(){function t(r){O(this,t),this.left=0,this.top=0,this.width=0,this.height=0,this.update(r)}return I(t,[{key:"update",value:function(e){V(this,e);var n=this.left,a=this.top,i=this.width,o=this.height;return this.right=n+i,this.bottom=a+o,this}},{key:"padding",value:function(e){if(!e)return this;var n=e.top,a=n===void 0?0:n,i=e.right,o=i===void 0?0:i,s=e.bottom,u=s===void 0?0:s,l=e.left,f=l===void 0?0:l,c=this.top,h=this.right,v=this.bottom,p=this.left;return this.top=c+a,this.right=h-o,this.bottom=v-u,this.left=p+f,this.width=this.right-this.left,this.height=this.bottom-this.top,this}},{key:"clone",value:function(){var e=this.left,n=this.top,a=this.width,i=this.height;return new t({left:e,top:n,width:a,height:i})}}],[{key:"fromStyle",value:function(e){var n=e.left,a=e.top,i=e.width,o=e.height,s=e.padding,u=pt(s,4),l=u[0],f=u[1],c=u[2],h=u[3];return new t({left:n+h,top:a+l,width:i-h-f,height:o-l-c})}}]),t}(),ha=pu;function Ga(t){return Object.prototype.toString.call(t)}function qa(t){return Object.keys(t)}function dt(t,r){if(t===r)return!0;if(J(t)!==J(r)||t==null||r==null)return!1;if(Number.isNaN(t)&&Number.isNaN(r))return!0;if(Ga(t)!==Ga(r))return!1;if(H(t))return!0;if(J(t)!=="object")return!1;if(A(t)){if(t.length!==r.length)return!1;for(var e=t.length-1;e>=0;e--)if(!dt(t[e],r[e]))return!1;return!0}if(!ce(t))return!1;var n=qa(t),a=qa(r);if(n.length!==a.length)return!1;n.sort(),a.sort();for(var i=n.length-1;i>=0;i--)if(n[i]!=a[i])return!1;for(var o=n.length-1;o>=0;o--){var s=n[o];if(!dt(t[s],r[s]))return!1}return!0}var Ua=(typeof window=="undefined"?"undefined":J(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame:function(t){return setTimeout(t,16)},yu=(typeof window=="undefined"?"undefined":J(window))==="object"&&window.cancelAnimationFrame?window.cancelAnimationFrame:function(t){return clearTimeout(t)},Za=(typeof performance=="undefined"?"undefined":J(performance))==="object"&&performance.now?performance:Date,du=function(){function t(){O(this,t),this.playing=!1,this.paused=!1,this.pausedTime=0}return I(t,[{key:"play",value:function(e,n,a){var i=this;if(e<=0){a();return}if(!this.playing){this.duration=e,this.onUpdate=n,this.onEnd=a;var o=this.paused,s=this.pausedTime;this.playing=!0;var u=Za.now();o&&s&&(u=u-s,this.paused=!1,this.pausedTime=0);var l=function f(){var c=Za.now(),h=c-u;if(h>=e){n(e),a(),i.playing=!1;return}if(i.paused){n(h),i.pausedTime=h,i.playing=!1;return}n(h),i.animationFrameNumber=Ua(f)};this.animationFrameNumber=Ua(l)}}},{key:"pause",value:function(){this.paused=!0}},{key:"stop",value:function(){this.playing=!1}},{key:"end",value:function(){!this.playing||(this.abort(),this.onUpdate(this.duration),this.onEnd())}},{key:"abort",value:function(){!this.animationFrameNumber||(yu(this.animationFrameNumber),this.playing=!1,this.animationFrameNumber=null)}}]),t}(),gu=du;function va(t,r,e){t.prototype=r.prototype=e,e.constructor=t}function ri(t,r){var e=Object.create(t.prototype);for(var n in r)e[n]=r[n];return e}function Ne(){}var Te=.7,nr=1/Te,fe="\\s*([+-]?\\d+)\\s*",Ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mu=/^#([0-9a-f]{3,8})$/,xu=new RegExp("^rgb\\("+[fe,fe,fe]+"\\)$"),_u=new RegExp("^rgb\\("+[_t,_t,_t]+"\\)$"),wu=new RegExp("^rgba\\("+[fe,fe,fe,Ae]+"\\)$"),ku=new RegExp("^rgba\\("+[_t,_t,_t,Ae]+"\\)$"),Su=new RegExp("^hsl\\("+[Ae,_t,_t]+"\\)$"),bu=new RegExp("^hsla\\("+[Ae,_t,_t,Ae]+"\\)$"),Ja={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};va(Ne,Oe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ka,formatHex:Ka,formatHsl:Mu,formatRgb:Qa,toString:Qa});function Ka(){return this.rgb().formatHex()}function Mu(){return ai(this).formatHsl()}function Qa(){return this.rgb().formatRgb()}function Oe(t){var r,e;return t=(t+"").trim().toLowerCase(),(r=mu.exec(t))?(e=r[1].length,r=parseInt(r[1],16),e===6?tn(r):e===3?new nt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):e===8?Ue(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):e===4?Ue(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=xu.exec(t))?new nt(r[1],r[2],r[3],1):(r=_u.exec(t))?new nt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=wu.exec(t))?Ue(r[1],r[2],r[3],r[4]):(r=ku.exec(t))?Ue(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Su.exec(t))?an(r[1],r[2]/100,r[3]/100,1):(r=bu.exec(t))?an(r[1],r[2]/100,r[3]/100,r[4]):Ja.hasOwnProperty(t)?tn(Ja[t]):t==="transparent"?new nt(NaN,NaN,NaN,0):null}function tn(t){return new nt(t>>16&255,t>>8&255,t&255,1)}function Ue(t,r,e,n){return n<=0&&(t=r=e=NaN),new nt(t,r,e,n)}function Pu(t){return t instanceof Ne||(t=Oe(t)),t?(t=t.rgb(),new nt(t.r,t.g,t.b,t.opacity)):new nt}function Ur(t,r,e,n){return arguments.length===1?Pu(t):new nt(t,r,e,n==null?1:n)}function nt(t,r,e,n){this.r=+t,this.g=+r,this.b=+e,this.opacity=+n}va(nt,Ur,ri(Ne,{brighter:function(t){return t=t==null?nr:Math.pow(nr,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?Te:Math.pow(Te,t),new nt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:en,formatHex:en,formatRgb:rn,toString:rn}));function en(){return"#"+Ar(this.r)+Ar(this.g)+Ar(this.b)}function rn(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function Ar(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function an(t,r,e,n){return n<=0?t=r=e=NaN:e<=0||e>=1?t=r=NaN:r<=0&&(t=NaN),new xt(t,r,e,n)}function ai(t){if(t instanceof xt)return new xt(t.h,t.s,t.l,t.opacity);if(t instanceof Ne||(t=Oe(t)),!t)return new xt;if(t instanceof xt)return t;t=t.rgb();var r=t.r/255,e=t.g/255,n=t.b/255,a=Math.min(r,e,n),i=Math.max(r,e,n),o=NaN,s=i-a,u=(i+a)/2;return s?(r===i?o=(e-n)/s+(e<n)*6:e===i?o=(n-r)/s+2:o=(r-e)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new xt(o,s,u,t.opacity)}function Cu(t,r,e,n){return arguments.length===1?ai(t):new xt(t,r,e,n==null?1:n)}function xt(t,r,e,n){this.h=+t,this.s=+r,this.l=+e,this.opacity=+n}va(xt,Cu,ri(Ne,{brighter:function(t){return t=t==null?nr:Math.pow(nr,t),new xt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?Te:Math.pow(Te,t),new xt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*r,a=2*e-n;return new nt(Or(t>=240?t-240:t+120,a,n),Or(t,a,n),Or(t<120?t+240:t-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function Or(t,r,e){return(t<60?r+(e-r)*t/60:t<180?e:t<240?r+(e-r)*(240-t)/60:r)*255}var pa=t=>()=>t;function Tu(t,r){return function(e){return t+e*r}}function Au(t,r,e){return t=Math.pow(t,e),r=Math.pow(r,e)-t,e=1/e,function(n){return Math.pow(t+n*r,e)}}function Ou(t){return(t=+t)==1?ni:function(r,e){return e-r?Au(r,e,t):pa(isNaN(r)?e:r)}}function ni(t,r){var e=r-t;return e?Tu(t,e):pa(isNaN(t)?r:t)}var Zr=function t(r){var e=Ou(r);function n(a,i){var o=e((a=Ur(a)).r,(i=Ur(i)).r),s=e(a.g,i.g),u=e(a.b,i.b),l=ni(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=s(f),a.b=u(f),a.opacity=l(f),a+""}}return n.gamma=t,n}(1);function ii(t,r){r||(r=[]);var e=t?Math.min(r.length,t.length):0,n=r.slice(),a;return function(i){for(a=0;a<e;++a)n[a]=t[a]*(1-i)+r[a]*i;return n}}function Iu(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Du(t,r){var e=r?r.length:0,n=t?Math.min(e,t.length):0,a=new Array(n),i=new Array(e),o;for(o=0;o<n;++o)a[o]=ya(t[o],r[o]);for(;o<e;++o)i[o]=r[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function Lu(t,r){var e=new Date;return t=+t,r=+r,function(n){return e.setTime(t*(1-n)+r*n),e}}function ir(t,r){return t=+t,r=+r,function(e){return t*(1-e)+r*e}}function oi(t,r){var e={},n={},a;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in t?e[a]=ya(t[a],r[a]):n[a]=r[a];return function(i){for(a in e)n[a]=e[a](i);return n}}var Jr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ir=new RegExp(Jr.source,"g");function Ru(t){return function(){return t}}function Nu(t){return function(r){return t(r)+""}}function Yu(t,r){var e=Jr.lastIndex=Ir.lastIndex=0,n,a,i,o=-1,s=[],u=[];for(t=t+"",r=r+"";(n=Jr.exec(t))&&(a=Ir.exec(r));)(i=a.index)>e&&(i=r.slice(e,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,u.push({i:o,x:ir(n,a)})),e=Ir.lastIndex;return e<r.length&&(i=r.slice(e),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?Nu(u[0].x):Ru(r):(r=u.length,function(l){for(var f=0,c;f<r;++f)s[(c=u[f]).i]=c.x(l);return s.join("")})}function ya(t,r){var e=typeof r,n;return r==null||e==="boolean"?pa(r):(e==="number"?ir:e==="string"?(n=Oe(r))?(r=n,Zr):Yu:r instanceof Oe?Zr:r instanceof Date?Lu:Iu(r)?ii:Array.isArray(r)?Du:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?oi:ir)(t,r)}function Eu(t,r){var e=t?t.length:0,n=r?r.length:0,a=Math.max(n,e),i=new Array(a),o=new Array(a),s;for(s=0;s<a;s++){var u=s<e?(t||[])[s]:(t||[])[e-1],l=s<n?(r||[])[s]:(r||[])[n-1];o[s]=oi(u,l)}return function(f){if(f>=1)return r;for(s=0;s<a;++s)i[s]=o[s](f);return i}}var $u=function(t,r){return typeof r=="string"?Zr(t,r):Array.isArray(r)?typeof r[0]!="number"?Eu(t,r):ii(t,r):ir(t,r)};function si(t){return t}function Bu(t){return t*t}function Fu(t){return t*(2-t)}function ju(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}function Xu(t){return t*t*t}function Hu(t){return--t*t*t+1}function zu(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}function Wu(t){return t*t*t*t}function Vu(t){return 1-t*t*t*t}function Gu(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}function qu(t){return t*t*t*t*t}function Uu(t){return--t*t*t*t*t+1}function Zu(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}function Ju(t){return t===0?0:Math.pow(1024,t-1)}function Ku(t){return t===1?1:1-Math.pow(2,-10*t)}function Qu(t){var r,e=.1,n=.4;return t===0?0:t===1?1:(!e||e<1?(e=1,r=n/4):r=n/(2*Math.PI)*Math.asin(1/e),-(e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/n)))}function tl(t){var r,e=.1,n=.4;return t===0?0:t===1?1:(!e||e<1?(e=1,r=n/4):r=n/(2*Math.PI)*Math.asin(1/e),e*Math.pow(2,-10*t)*Math.sin((t-r)*(2*Math.PI)/n)+1)}function el(t){var r,e=.1,n=.4;return t===0?0:t===1?1:(!e||e<1?(e=1,r=n/4):r=n/(2*Math.PI)*Math.asin(1/e),(t*=2)<1?-.5*(e*Math.pow(2,10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/n)):e*Math.pow(2,-10*(t-=1))*Math.sin((t-r)*(2*Math.PI)/n)*.5+1)}function rl(t){var r=1.70158;return t*t*((r+1)*t-r)}function al(t){var r=1.70158;return(t=t-1)*t*((r+1)*t+r)+1}function nl(t){var r=2.5949095;return(t*=2)<1?.5*(t*t*((r+1)*t-r)):.5*((t-=2)*t*((r+1)*t+r)+2)}function ui(t){return 1-da(1-t)}function da(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function il(t){return t<.5?ui(t*2)*.5:da(t*2-1)*.5+.5}var ol=Object.freeze(Object.defineProperty({__proto__:null,linear:si,quadraticIn:Bu,quadraticOut:Fu,quadraticInOut:ju,cubicIn:Xu,cubicOut:Hu,cubicInOut:zu,quarticIn:Wu,quarticOut:Vu,quarticInOut:Gu,elasticIn:Qu,elasticOut:tl,elasticInOut:el,backIn:rl,backOut:al,backInOut:nl,bounceIn:ui,bounceOut:da,bounceInOut:il,exponentialIn:Ju,exponentialOut:Ku,quinticIn:qu,quinticOut:Uu,quinticInOut:Zu},Symbol.toStringTag,{value:"Module"}));function sl(t,r){if(t==null)return{};var e={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(e[a]=t[a]);return e}function jt(t,r){if(t==null)return{};var e=sl(t,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(e[n]=t[n]))}return e}var ul=["key","ref"];function M(t,r){for(var e=r||{},n=e.key,a=e.ref,i=jt(e,ul),o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];return s.length&&(i.children=s.length===1?s[0]:s),{key:n,ref:a,type:t,props:i,_cache:{}}}var Kr;try{Kr=parseInt(document.documentElement.style.fontSize,10)||50}catch{Kr=50}var ll=Kr/100;function fl(t){return t?Number((t*ll).toFixed(1)):0}function cl(t){if(W(t))return[t,t,t,t];var r=t[0],e=W(t[1])?t[1]:t[0],n=W(t[2])?t[2]:r,a=W(t[3])?t[3]:e;return[r,e,n,a]}function Ie(t){if(q(t)&&/^-?\d+px$/.test(t)){var r=t.substr(0,t.length-2);return fl(Number(r))}if(A(t))return t.map(function(o){return Ie(o)});if(ce(t)){var e={};for(var n in t)if(t.hasOwnProperty(n)){var a=Ie(t[n]);if(!a){e[n]=a;continue}if(n==="padding"||n==="margin"){var i=cl(a);e[n]=i,e["".concat(n,"Top")]=i[0],e["".concat(n,"Right")]=i[1],e["".concat(n,"Bottom")]=i[2],e["".concat(n,"Left")]=i[3];continue}e[n]=a}return e}return t}function li(t,r){if(!t)return t;if(!A(t))return[r(t)];for(var e=[],n=0;n<t.length;n++){var a=t[n];A(a)?e=e.concat(li(a,r)):a&&e.push(r(a))}return e}function Dr(t){return q(t)&&(t.indexOf("T")>0?t=new Date(t).getTime():t=new Date(t.replace(/-/gi,"/")).getTime()),la(t)&&(t=t.getTime()),t}var Ze,nn="inherit",fi="ltr",hl="rtl",Vt="row",De="row-reverse",Et="column",Qr="column-reverse",on="flex-start",sn="center",vl="flex-end",pl="space-between",yl="space-around",Lr="flex-start",Rr="center",un="flex-end",we="stretch",Mt="relative",Nr="absolute",et={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},mt={row:"right","row-reverse":"left",column:"bottom","column-reverse":"top"},ht={row:"left","row-reverse":"right",column:"top","column-reverse":"bottom"},L={row:"width","row-reverse":"width",column:"height","column-reverse":"height"};function ci(t){return(!t.layout||t.isDirty)&&(t.layout={width:void 0,height:void 0,top:0,left:0,right:0,bottom:0}),t.style||(t.style={}),t.children||(t.children=[]),t.children.forEach(ci),t}function bt(t){return t===void 0}function Kt(t){return t===Vt||t===De}function dl(t){return t===Et||t===Qr}function Wt(t,r){if(t.style.marginStart!==void 0&&Kt(r))return t.style.marginStart;var e=null;switch(r){case"row":e=t.style.marginLeft;break;case"row-reverse":e=t.style.marginRight;break;case"column":e=t.style.marginTop;break;case"column-reverse":e=t.style.marginBottom;break}return e!==void 0?e:t.style.margin!==void 0?t.style.margin:0}function tr(t,r){if(t.style.marginEnd!==void 0&&Kt(r))return t.style.marginEnd;var e=null;switch(r){case"row":e=t.style.marginRight;break;case"row-reverse":e=t.style.marginLeft;break;case"column":e=t.style.marginBottom;break;case"column-reverse":e=t.style.marginTop;break}return e!=null?e:t.style.margin!==void 0?t.style.margin:0}function gl(t,r){if(t.style.paddingStart!==void 0&&t.style.paddingStart>=0&&Kt(r))return t.style.paddingStart;var e=null;switch(r){case"row":e=t.style.paddingLeft;break;case"row-reverse":e=t.style.paddingRight;break;case"column":e=t.style.paddingTop;break;case"column-reverse":e=t.style.paddingBottom;break}return e!=null&&e>=0?e:t.style.padding!==void 0&&t.style.padding>=0?t.style.padding:0}function ml(t,r){if(t.style.paddingEnd!==void 0&&t.style.paddingEnd>=0&&Kt(r))return t.style.paddingEnd;var e=null;switch(r){case"row":e=t.style.paddingRight;break;case"row-reverse":e=t.style.paddingLeft;break;case"column":e=t.style.paddingBottom;break;case"column-reverse":e=t.style.paddingTop;break}return e!=null&&e>=0?e:t.style.padding!==void 0&&t.style.padding>=0?t.style.padding:0}function or(t,r){if(t.style.borderStartWidth!==void 0&&t.style.borderStartWidth>=0&&Kt(r))return t.style.borderStartWidth;var e=null;switch(r){case"row":e=t.style.borderLeftWidth;break;case"row-reverse":e=t.style.borderRightWidth;break;case"column":e=t.style.borderTopWidth;break;case"column-reverse":e=t.style.borderBottomWidth;break}return e!=null&&e>=0?e:t.style.borderWidth!==void 0&&t.style.borderWidth>=0?t.style.borderWidth:0}function hi(t,r){if(t.style.borderEndWidth!==void 0&&t.style.borderEndWidth>=0&&Kt(r))return t.style.borderEndWidth;var e=null;switch(r){case"row":e=t.style.borderRightWidth;break;case"row-reverse":e=t.style.borderLeftWidth;break;case"column":e=t.style.borderBottomWidth;break;case"column-reverse":e=t.style.borderTopWidth;break}return e!=null&&e>=0?e:t.style.borderWidth!==void 0&&t.style.borderWidth>=0?t.style.borderWidth:0}function ta(t,r){return gl(t,r)+or(t,r)}function vi(t,r){return ml(t,r)+hi(t,r)}function xl(t,r){return or(t,r)+hi(t,r)}function gt(t,r){return Wt(t,r)+tr(t,r)}function at(t,r){return ta(t,r)+vi(t,r)}function _l(t){return t.style.justifyContent?t.style.justifyContent:"flex-start"}function wl(t){return t.style.alignContent?t.style.alignContent:"flex-start"}function Yr(t,r){return r.style.alignSelf?r.style.alignSelf:t.style.alignItems?t.style.alignItems:"stretch"}function ea(t,r){if(r===hl){if(t===Vt)return De;if(t===De)return Vt}return t}function kl(t,r){var e;return t.style.direction?e=t.style.direction:e=nn,e===nn&&(e=r===void 0?fi:r),e}function Sl(t){return t.style.flexDirection?t.style.flexDirection:Et}function bl(t,r){return dl(t)?ea(Vt,r):Et}function ut(t){return t.style.position?t.style.position:"relative"}function ln(t){return ut(t)===Mt&&t.style.flex>0}function Ml(t){return t.style.flexWrap==="wrap"}function ne(t,r){return t.layout[L[r]]+gt(t,r)}function Pt(t,r){return t.style[L[r]]!==void 0&&t.style[L[r]]>=0}function Lt(t,r){return t.style[r]!==void 0}function Pl(t){return t.style.measure!==void 0}function Ct(t,r){return t.style[r]!==void 0?t.style[r]:0}function lt(t,r,e){var n={row:t.style.minWidth,"row-reverse":t.style.minWidth,column:t.style.minHeight,"column-reverse":t.style.minHeight}[r],a={row:t.style.maxWidth,"row-reverse":t.style.maxWidth,column:t.style.maxHeight,"column-reverse":t.style.maxHeight}[r],i=e;return a!==void 0&&a>=0&&i>a&&(i=a),n!==void 0&&n>=0&&i<n&&(i=n),i}function tt(t,r){return t>r?t:r}function fn(t,r){t.layout[L[r]]===void 0&&(!Pt(t,r)||(t.layout[L[r]]=tt(lt(t,r,t.style[L[r]]),at(t,r))))}function ie(t,r,e){r.layout[mt[e]]=t.layout[L[e]]-r.layout[L[e]]-r.layout[ht[e]]}function Je(t,r){return t.style[et[r]]!==void 0?Ct(t,et[r]):-Ct(t,mt[r])}function Cl(t,r,e){var n=kl(t,e),a=ea(Sl(t),n),i=bl(a,n),o=ea(Vt,n);fn(t,a),fn(t,i),t.layout.direction=n,t.layout[et[a]]+=Wt(t,a)+Je(t,a),t.layout[mt[a]]+=tr(t,a)+Je(t,a),t.layout[et[i]]+=Wt(t,i)+Je(t,i),t.layout[mt[i]]+=tr(t,i)+Je(t,i);var s=t.children.length,u=at(t,o);if(Pl(t)){var l=!bt(t.layout[L[o]]),f=Ze;Pt(t,o)?f=t.style.width:l?f=t.layout[L[o]]:f=r-gt(t,o),f-=u;var c=!Pt(t,o)&&!l,h=!Pt(t,Et)&&bt(t.layout[L[Et]]);if(c||h){var v=t.style.measure(f);c&&(t.layout.width=v.width+u),h&&(t.layout.height=v.height+at(t,Et))}if(s===0)return}var p=Ml(t),y=_l(t),d=ta(t,a),m=ta(t,i),_=at(t,a),w=at(t,i),k=!bt(t.layout[L[a]]),S=!bt(t.layout[L[i]]),D=Kt(a),b,C,x,T,j=null,R=null,U=Ze;k&&(U=t.layout[L[a]]-_);for(var ot=0,St=0,Ot=0,st=0,It=0,K=0;St<s;){var ye=0,de=0,Ye=0,ge=0,Ee=k&&y===on||!k&&y!==sn,ba=Ee?s:ot,yr=!0,Ma=s,$e=null,X=null,te=d,ee=0,Dt;for(b=ot;b<s;++b){x=t.children[b],x.lineIndex=K,x.nextAbsoluteChild=null,x.nextFlexChild=null;var Xt=Yr(t,x);if(Xt===we&&ut(x)===Mt&&S&&!Pt(x,i))x.layout[L[i]]=tt(lt(x,i,t.layout[L[i]]-w-gt(x,i)),at(x,i));else if(ut(x)===Nr)for(j===null&&(j=x),R!==null&&(R.nextAbsoluteChild=x),R=x,C=0;C<2;C++)T=C!==0?Vt:Et,!bt(t.layout[L[T]])&&!Pt(x,T)&&Lt(x,et[T])&&Lt(x,mt[T])&&(x.layout[L[T]]=tt(lt(x,T,t.layout[L[T]]-at(t,T)-gt(x,T)-Ct(x,et[T])-Ct(x,mt[T])),at(x,T)));var Be=0;if(k&&ln(x)?(de++,Ye+=x.style.flex,$e===null&&($e=x),X!==null&&(X.nextFlexChild=x),X=x,Be=at(x,a)+gt(x,a)):(Dt=Ze,D||(Pt(t,o)?Dt=t.layout[L[o]]-u:Dt=r-gt(t,o)-u),Ot===0&&ra(x,Dt,n),ut(x)===Mt&&(ge++,Be=ne(x,a))),p&&k&&ye+Be>U&&b!==ot){ge--,Ot=1;break}Ee&&(ut(x)!==Mt||ln(x))&&(Ee=!1,ba=b),yr&&(ut(x)!==Mt||Xt!==we&&Xt!==Lr||bt(x.layout[L[i]]))&&(yr=!1,Ma=b),Ee&&(x.layout[ht[a]]+=te,k&&ie(t,x,a),te+=ne(x,a),ee=tt(ee,lt(x,i,ne(x,i)))),yr&&(x.layout[ht[i]]+=st+m,S&&ie(t,x,i)),Ot=0,ye+=Be,St=b+1}var Fe=0,me=0,ct=0;if(k?ct=U-ye:ct=tt(ye,0)-ye,de!==0){var xe=ct/Ye,dr,gr;for(X=$e;X!==null;)dr=xe*X.style.flex+at(X,a),gr=lt(X,a,dr),dr!==gr&&(ct-=gr,Ye-=X.style.flex),X=X.nextFlexChild;for(xe=ct/Ye,xe<0&&(xe=0),X=$e;X!==null;)X.layout[L[a]]=lt(X,a,xe*X.style.flex+at(X,a)),Dt=Ze,Pt(t,o)?Dt=t.layout[L[o]]-u:D||(Dt=r-gt(t,o)-u),ra(X,Dt,n),x=X,X=X.nextFlexChild,x.nextFlexChild=null}else y!==on&&(y===sn?Fe=ct/2:y===vl?Fe=ct:y===pl?(ct=tt(ct,0),de+ge-1!==0?me=ct/(de+ge-1):me=0):y===yl&&(me=ct/(de+ge),Fe=me/2));for(te+=Fe,b=ba;b<St;++b)x=t.children[b],ut(x)===Nr&&Lt(x,et[a])?x.layout[ht[a]]=Ct(x,et[a])+or(t,a)+Wt(x,a):(x.layout[ht[a]]+=te,k&&ie(t,x,a),ut(x)===Mt&&(te+=me+ne(x,a),ee=tt(ee,lt(x,i,ne(x,i)))));var mr=t.layout[L[i]];for(S||(mr=tt(lt(t,i,ee+w),w)),b=Ma;b<St;++b)if(x=t.children[b],ut(x)===Nr&&Lt(x,et[i]))x.layout[ht[i]]=Ct(x,et[i])+or(t,i)+Wt(x,i);else{var xr=m;if(ut(x)===Mt){var Xt=Yr(t,x);if(Xt===we)bt(x.layout[L[i]])&&(x.layout[L[i]]=tt(lt(x,i,mr-w-gt(x,i)),at(x,i)));else if(Xt!==Lr){var Pa=mr-w-ne(x,i);Xt===Rr?xr+=Pa/2:xr+=Pa}}x.layout[ht[i]]+=st+xr,S&&ie(t,x,i)}st+=ee,It=tt(It,te),K+=1,ot=St}if(K>1&&S){var Ca=t.layout[L[i]]-w,_r=Ca-st,Ta=0,Ht=m,wr=wl(t);wr===un?Ht+=_r:wr===Rr?Ht+=_r/2:wr===we&&Ca>st&&(Ta=_r/K);var kr=0;for(b=0;b<K;++b){var Aa=kr,re=0;for(C=Aa;C<s;++C)if(x=t.children[C],ut(x)===Mt){if(x.lineIndex!==b)break;bt(x.layout[L[i]])||(re=tt(re,x.layout[L[i]]+gt(x,i)))}for(kr=C,re+=Ta,C=Aa;C<kr;++C)if(x=t.children[C],ut(x)===Mt){var je=Yr(t,x);if(je===Lr)x.layout[ht[i]]=Ht+Wt(x,i);else if(je===un)x.layout[ht[i]]=Ht+re-tr(x,i)-x.layout[L[i]];else if(je===Rr){var so=x.layout[L[i]];x.layout[ht[i]]=Ht+(re-so)/2}else je===we&&(x.layout[ht[i]]=Ht+Wt(x,i))}Ht+=re}}var Sr=!1,br=!1;if(k||(t.layout[L[a]]=tt(lt(t,a,It+vi(t,a)),_),(a===De||a===Qr)&&(Sr=!0)),S||(t.layout[L[i]]=tt(lt(t,i,st+w),w),(i===De||i===Qr)&&(br=!0)),Sr||br)for(b=0;b<s;++b)x=t.children[b],Sr&&ie(t,x,a),br&&ie(t,x,i);for(R=j;R!==null;){for(C=0;C<2;C++)T=C!==0?Vt:Et,!bt(t.layout[L[T]])&&!Pt(R,T)&&Lt(R,et[T])&&Lt(R,mt[T])&&(R.layout[L[T]]=tt(lt(R,T,t.layout[L[T]]-xl(t,T)-gt(R,T)-Ct(R,et[T])-Ct(R,mt[T])),at(R,T))),Lt(R,mt[T])&&!Lt(R,et[T])&&(R.layout[et[T]]=t.layout[L[T]]-R.layout[L[T]]-Ct(R,mt[T]));x=R,R=R.nextAbsoluteChild,x.nextAbsoluteChild=null}}function Tl(t){var r=t.style,e={};["marginTop","marginRight","marginBottom","marginLeft"].forEach(function(n){var a=r[n];a&&/^-?\d+%$/.test(a)&&(e[n]=a,r[n]=0)}),t.margin=e}function Al(t){var r=Number(t.substr(0,t.length-1));return r/100}function Ol(t){var r=t.margin,e=t.layout;Object.keys(r).forEach(function(n){var a=Al(r[n]);(n==="marginLeft"||n==="marginRight")&&e.width?e.left+=e.width*a:(n==="marginTop"||n==="marginBottom")&&e.height&&(e.top+=e.height*a)})}function ra(t,r,e){t.shouldUpdate=!0,Tl(t);var n=t.style.direction||fi,a=!t.isDirty&&t.lastLayout&&t.lastLayout.requestedHeight===t.layout.height&&t.lastLayout.requestedWidth===t.layout.width&&t.lastLayout.parentMaxWidth===r&&t.lastLayout.direction===n;a?(t.layout.width=t.lastLayout.width,t.layout.height=t.lastLayout.height,t.layout.top=t.lastLayout.top,t.layout.left=t.lastLayout.left):(t.lastLayout||(t.lastLayout={}),t.lastLayout.requestedWidth=t.layout.width,t.lastLayout.requestedHeight=t.layout.height,t.lastLayout.parentMaxWidth=r,t.lastLayout.direction=n,t.children.forEach(function(i){i.layout.width=void 0,i.layout.height=void 0,i.layout.top=0,i.layout.left=0}),Cl(t,r,e),t.lastLayout.width=t.layout.width,t.lastLayout.height=t.layout.height,t.lastLayout.top=t.layout.top,t.lastLayout.left=t.layout.left),Ol(t)}function pi(t){if(!t)return t;var r=t.style,e=t.children;if(r)return ci(t),ra(t,null,null),t;if(e&&e.length)for(var n=0,a=e.length;n<a;n++)pi(e[n]);return t}var aa=function(t){var r=t.left,e=t.top,n=t.width,a=t.height;return{x:r,y:e,width:n,height:a}},Il=function(t){var r=t.left,e=t.top,n=t.width,a=t.height;return{x1:r,y1:e,x2:r+n,y2:e+a}},Dl=function(t){var r=t.height,e=t.left,n=t.top;return{x:e,y:n+r/2,textBaseline:"middle"}},Ll=function(t){var r=t.left,e=t.top,n=t.width,a=n/2;return{x:r+a,y:e+a,r:a}},Rl=function(t){var r=t.left,e=t.top,n=t.width,a=n/2;return{x:r+a,y:e,radius:a}},Nl={rect:aa,line:Il,text:Dl,circle:Ll,marker:Rl,group:aa},Yl=function(t,r){if(!r)return null;var e=Nl[t]||aa;return e(r)},El="appear",Le="update",Qt="delete";function yi(t,r){return new F[Ce(t)](r)}var $l=function(t,r,e,n){if(!r)return null;var a=t.get("status"),i=r.clip,o=r.start,s=r.end,u=r.easing,l=r.delay,f=r.duration;if(i){var c=i.type,h=i.attrs,v=i.start,p=yi(c,{attrs:g(g({},h),v)});i.easing=i.easing||u,i.delay=typeof i.delay=="number"?i.delay:l,i.duration=i.duration||f,i.element=p}var y=t.getDefaultAttrs();return g(g({},r),{},{start:g(g(g({},y),n),o),end:g(g({},a===Qt?null:e),s)})};function di(t,r){var e=t.key,n=t.ref,a=t._cache,i=t.type,o=t.props,s=t.status,u=t.animation,l=li(o.children,function(d){return di(d,r)}),f=Ie(o.style),c=Ie(o.attrs);if(i==="text"){var h=r.addShape(i,{attrs:g({x:0,y:0},c)}),v=h.getBBox(),p=v.width,y=v.height;f=g({width:p,height:y},f),h.remove(!0)}return{key:e,ref:n,_cache:a,type:i,props:o,children:l,status:s,animation:u,style:f,attrs:c}}function Bl(t,r){if(!t||!r)return r;var e=t.left,n=t.top,a=r.left,i=r.top;return g(g({},r),{},{left:e+a,top:n+i})}function gi(t,r,e,n){var a=t._cache,i=a===void 0?{}:a,o=t.ref,s=t.type,u=t.props,l=t.attrs,f=t.layout,c=t.renderChildren,h=t.children,v=t.status,p=t.animation,y=Bl(e,f),d=i.attrs,m=g(g(g({},Yl(s,y)),v===Qt?d:null),l);if(i.attrs=m,m.clip){var _=m.clip;m.clip=yi(_.type,_)}var w;if(s==="group"){w=r.addGroup(g(g({},Vo(u,["children"])),{},{status:v,attrs:m}));var k=c||h;if(k&&k.length)for(var S=0,D=k.length;S<D;S++)gi(k[S],w,y,n)}else w=r.addShape(s,g(g({},u),{},{status:v,attrs:m}));return n!==!1&&w.set("animation",$l(w,p,m,d)),o&&(o.current=w),w}function mi(t){var r=t.status,e=t.children;if(r===Qt)return null;if(!e||!e.length)return t;var n=e.filter(function(a){return!!mi(a)});return t.children=n,t.renderChildren=e,t}var cn=function(t,r,e){if(!!t){var n=di(t,r),a=mi(n);return pi(a),gi(n,r,null,e)}};function na(t,r,e){if(!t)return t;var n=t,a=n.type,i=n.key,o=n.ref,s=n.props,u=n._cache,l=u===void 0?{}:u,f=Z.map(s.children,function(h){return na(h,r,e)});if(t={type:a,key:i,ref:o,_cache:l,props:g(g({},s),{},{children:f})},typeof a=="function"){var c=a(t.props,r,e);return c&&na(g(g({},c),{},{key:i!==void 0?i:c.key,ref:o!==void 0?o:c.ref}),r,e)}return t}var Fl=function(t,r,e){return na(t,r,e)},jl=["children","animation"],Xl=["children","animation"],Hl=["children","animation"],zl=["animation"],Wl=["animation"];function Gt(t){var r=!1,e=Z.map(t,function(n){if(!n)return n;var a=n.ref,i=n.key,o=n.type,s=n.props,u=n._cache,l=s.children,f=s.animation,c=jt(s,jl),h=Qt,v=f&&f.leave,p=Gt(l);return!p&&!v?null:(r=!0,{ref:a,key:i,type:o,props:g(g({},c),{},{children:p}),_cache:u,animation:v,status:h})});return r?e:null}function ve(t){return Z.map(t,function(r){if(!r)return r;var e=r.ref,n=r.key,a=r.type,i=r.props,o=r._cache,s=i.children,u=i.animation,l=jt(i,Xl),f=El,c=u&&u.appear,h=ve(s);return{ref:e,key:n,type:a,props:g(g({},l),{},{children:h}),_cache:o,animation:c,status:f}})}function Vl(t,r){var e=t.ref,n=t.key,a=t.type,i=t._cache,o=t.props,s=r._cache,u=r.props,l=o.children,f=o.animation,c=jt(o,Hl),h=u.children,v=ue(l,h),p=V(i,s),y=f&&f.update;return{ref:e,key:n,type:a,props:g(g({},c),{},{children:v}),_cache:p,animation:y,status:Le}}function xi(t,r){return[Gt(r),ve(t)]}function Gl(t,r){var e=t.key,n=t.type,a=t.ref,i=t.props,o=t._cache,s=r.type,u=r._cache,l=i.children,f=Z.map(l,function(c){if(!c)return c;var h=c.key,v=c.ref,p=c.type,y=c.props,d=c._cache;if(p!==s)return xi(c,r);var m=y.animation,_=jt(y,zl),w=m&&m.update;return{ref:v,key:h,type:p,props:_,_cache:V(d,u),animation:w,status:Le}});return{key:e,type:n,ref:a,props:g(g({},i),{},{children:f}),_cache:o,status:Le}}function ql(t,r){var e=t.ref,n=t.key,a=t.type,i=t.props,o=t._cache,s=r.type,u=r.props,l=i.animation,f=jt(i,Wl),c=u.children,h=l&&l.update;if(!h)return[Gt(r),ve[t]];var v=null,p=Z.map(c,function(d){if(!d)return d;var m=d.type,_=d._cache;return m!==a?Gt(d):(v||(v=d),{type:a,props:i,_cache:_,animation:h,status:Le})});if(!v)return[Gt(r),ve(t)];var y={ref:e,key:n,type:a,props:f,_cache:V(o,v._cache),animation:h,status:Le};return[{type:s,props:g(g({},u),{},{children:p}),status:Qt},y]}function Ul(t,r){var e=t.type,n=r.type;return e==="group"?Gl(t,r):n==="group"?ql(t,r):xi(t,r)}function Zl(t,r){for(var e={},n=t.length,a=r.length,i=0;i<a;i++){var o=r[i];if(o&&!P(o.key)){var s=o.key;e[s]=o}}for(var u=Math.max(n,a),l=[],f=0;f<u;f++){var c=t[f];if(!c){l.push(ue(c,r[f]));continue}var h=c.key;if(!P(h)){var v=e[h];v&&delete e[h],l.push(ue(c,v));continue}l.push(ue(c,r[f]))}return Object.keys(e).forEach(function(p){l.push(ue(null,e[p]))}),l}function ue(t,r){if(!t&&!r)return null;if(!r)return ve(t);if(!t)return Gt(r);if(A(t)||A(r)){var e=A(t)?t:[t],n=A(r)?r:[r];return Zl(e,n)}var a=t.key,i=t.type,o=r.key,s=r.type;return!P(a)&&a!==o?[Gt(r),ve(t)]:i!==s?Ul(t,r):Vl(t,r)}var Jl=function(){function t(r,e){O(this,t),this.isClip=!1,this.end=!1,this.element=r,this.animation=e;var n=e.property,a=n===void 0?[]:n,i=e.easing,o=e.duration,s=e.delay,u=s===void 0?0:s,l=e.start,f=e.end,c=e.onFrame,h=e.isClip,v=a.map(function(p){if(q(p))return $u(l[p],f[p]);if(p.interpolate)return p.interpolate(l,f)});this.easing=typeof i=="function"?i:ol[i]||si,this.property=a,this.interpolates=v,this.duration=o,this.delay=u,this.onFrame=c,this.totalDuration=o+u,this.isClip=h,this.update(0,0)}return I(t,[{key:"to",value:function(e){var n=this.duration,a=this.delay,i=this.totalDuration,o=this.easing,s=this.end;if(!s&&!(e<=a||!n)){var u=e>=i?1:(e-a)/n;this.update(o(u),e),u===1&&this.onEnd()}}},{key:"update",value:function(e,n){for(var a=this.element,i=this.interpolates,o=this.property,s=this.onFrame,u={},l=o.length-1;l>=0;l--){var f=o[l];q(f)?u[f]=i[l](e):u[f.name]=i[l](e)}s&&(u=g(g({},u),this.onFrame(e,n))),a.attr(u)}},{key:"onEnd",value:function(){var e=this.animation,n=this.isClip,a=this.element,i=e.onEnd;i&&i.call(this),n&&a.remove(!0),a._attrs.status===Qt&&a.remove(!0),a.set("animation",null),this.end=!0}}]),t}(),Kl=Jl;function _i(t,r){r(t);var e=t.get("children");if(e&&e.length)for(var n=0,a=e.length;n<a;n++){var i=e[n];_i(i,r)}}var Ql=function(){function t(r){O(this,t),this.timeline=new gu,this.canvas=r}return I(t,[{key:"createAnimator",value:function(e,n){var a=n.duration,i=n.property,o=n.onFrame;if(!(!a||(!i||!i.length)&&!o))return new Kl(e,n)}},{key:"play",value:function(e,n){var a=this,i=this.canvas,o=[],s=0,u=[];_i(e,function(v){var p=v._attrs,y=p.animation,d=p.status;if(!y){d===Qt&&u.push(v);return}var m=a.createAnimator(v,y);m&&(s=Math.max(s,m.totalDuration),o.push(m));var _=y.clip;if(_){_.isClip=!0;var w=_.element,k=a.createAnimator(w,_);k&&(s=Math.max(s,k.totalDuration),v.attr("clip",w),o.push(k))}});for(var l=0,f=u.length;l<f;l++){var c=u[l],h=c._attrs.children;(!h||!h.length)&&c.remove(!0)}this.timeline.play(s,function(v){for(var p=0,y=o.length;p<y;p++){var d=o[p];d.to(v)}v<s&&i.draw()},function(){for(var v=0,p=u.length;v<p;v++){var y=u[v];y.remove(!0)}i.draw(),n&&n()})}},{key:"end",value:function(){this.timeline.end()}},{key:"abort",value:function(){this.timeline.abort()}}]),t}(),tf=Ql;function ef(t){var r=[],e=[],n=[];function a(){for(var u;u=r.shift();){var l=u,f=l.state,c=l.component,h=l.callback;c.prevState||(c.prevState=Object.assign({},c.state)),typeof f=="function"?Object.assign(c.state,f(c.prevState,c.props)):Object.assign(c.state,f),c.prevState=c.state,typeof h=="function"&&n.push({callback:h,component:c})}var v=[].concat(e);t.renderComponents(v),o(),e.length=0}function i(u,l,f){r.length===0&&setTimeout(a,0),r.push({component:u,state:l,callback:f}),e.indexOf(u)<0&&e.push(u)}function o(){for(var u=0;u<n.length;u++){var l=n[u],f=l.callback,c=l.component;f.call(c)}}var s={enqueueForceUpdate:i,enqueueSetState:i};return s}var rf={labelOffset:"15px",line:{stroke:"#E8E8E8",lineWidth:"1px"},label:{fill:"#808080",fontSize:"20px"},grid:{stroke:"#E8E8E8",lineWidth:"1px",lineDash:["4px"]}},af={line:{style:{stroke:"#a3a3a3",lineWidth:1},offsetX:0,offsetY:0},text:{style:{fill:"#787878",textBaseline:"middle"},offsetX:0,offsetY:0},rect:{style:{fill:"#fafafa"}},arc:{style:{stroke:"#a3a3a3"}},html:{offsetX:0,offsetY:0,alignX:"center",alignY:"middle"},tag:{offsetX:0,offsetY:0,side:4,background:{padding:5,radius:2,fill:"#1890FF"},textStyle:{fontSize:12,fill:"#fff",textAlign:"center",textBaseline:"middle"}},point:{offsetX:0,offsetY:0,style:{fill:"#fff",r:3,lineWidth:2,stroke:"#1890ff"}}},nf={padding:["30px","30px","30px","30px"]},of={fontFamily:'"Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif',pixelRatio:1,padding:[0,0,0,0],chart:nf,colors:["#1890FF","#2FC25B","#FACC14","#223273","#8543E0","#13C2C2","#3436C7","#F04864"],shapes:{line:["line","dash","smooth"],point:["circle","hollowCircle","rect"],area:["area","smooth"],interval:["rect","pyramid","funnel"]},sizes:["4px","6px","8px","10px","12px"],shape:{line:{default:{lineWidth:"4px",lineJoin:"round",lineCap:"round"},smooth:{smooth:!0},dash:{lineDash:["8px","8px"]}},point:{default:{size:"6px"},hollowCircle:{lineWidth:"2px"}},area:{default:{fillOpacity:.1}},interval:{default:{}}},axis:rf,guide:af},sf=of,uf=["transformFrom"];function lf(t){return t&&Z.map(t,function(r){return r&&Wo(r,["key","ref","type","props"])})}function wi(t,r,e){var n=t.container,a=t.context,i=t.updater,o=t.__lastElement,s=t.transformFrom,u=t.animate;n.clear(),e=Fn(e)?e:u;var l=o||s&&s.__lastElement,f=Fl(r,a,i);t.__lastElement=f;var c=e!==!1?ue(f,l):f;return c?A(c)?c.map(function(h){return cn(h,n,e)}):cn(c,n,e):null}function ff(t,r){var e=r.animate;if(e===!1){t.animate=!1;return}var n=t.props,a=n.animate;t.animate=Fn(a)?a:e}function ki(t){if(!t)return null;var r=t.__lastElement,e=t.children;if(r)return t;if(!e)return null;var n=null;return Z.map(e,function(a){if(!n&&!!a){var i=ki(a.component);i&&(n=i)}}),n}function cf(t){if(!t||!t.current)return null;var r=t.current;return ki(r)}function hf(t,r){var e=r.type,n=r.props,a=r.ref,i=t.container,o=t.context,s=t.updater,u=t.transformFrom,l=n.transformFrom,f=jt(n,uf),c;if(e.prototype&&e.prototype.isF2Component?c=new e(f,o,s):(c=new pe(f,o,s),c.render=function(){return e(this.props,o,s)}),a&&(a.current=c),u&&(c.transformFrom=u),l){var h=l?cf(l):null;c.transformFrom=h}return c.container=i.addGroup(),c.context=o,c.updater=s,c}function Si(t){Z.map(t,function(r){var e=r.children,n=Ya(e);n?r.willMount&&r.willMount():r.willUpdate&&r.willUpdate()}),Z.map(t,function(r){var e=r.children,n=Ya(e),a=r.render();Mi(r,a,e),n?r.didMount&&r.didMount():r.didUpdate&&r.didUpdate()})}function ia(t){Z.map(t,function(r){if(!!r){var e=r.component;if(!!e){e.willUnmount&&e.willUnmount(),ia(e.children);var n=e.container;n.remove(!0),e.didUnmount&&e.didUnmount()}}})}function vf(t,r){if(!t&&!r)return null;if(!t&&r)return ia(r),null;if(t&&!r)return t;var e=t.type,n=t.props,a=r.type,i=r.props,o=r.component;return e!==a?(ia(r),t):(t.component=o,dt(n,i)?null:t)}function pf(t,r,e){var n=[];Z.compare(r,e,function(o,s){var u=vf(o,s);u&&(n=n.concat(Z.toArray(u).filter(Boolean)))});var a=n.filter(function(o){var s=o.component,u=o.props;return s?!(s.shouldUpdate&&s.shouldUpdate(u)===!1):!0}),i=a.map(function(o){var s=o.component;if(!s)s=hf(t,o);else{var u=o.props;s.willReceiveProps&&s.willReceiveProps(u),s.props=u}return o.component=s,ff(s,t),s});return Si(i),n.forEach(function(o){var s=o.component,u=t.container;u.add(s.container)}),r}function bi(t){if(!t)return!1;if(!A(t)){var r=t.type;return typeof r=="function"}for(var e=0,n=t.length;e<n;e++)if(bi(t[e]))return!0;return!1}function Mi(t,r,e){return r=lf(r),t.children=r,bi(r)?r=pf(t,r,e):wi(t,r),r}var yf="*",df=function(){function t(){this._events={}}return t.prototype.on=function(r,e,n){return this._events[r]||(this._events[r]=[]),this._events[r].push({callback:e,once:!!n}),this},t.prototype.once=function(r,e){return this.on(r,e,!0)},t.prototype.emit=function(r){for(var e=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=this._events[r]||[],o=this._events[yf]||[],s=function(u){for(var l=u.length,f=0;f<l;f++)if(!!u[f]){var c=u[f],h=c.callback,v=c.once;v&&(u.splice(f,1),u.length===0&&delete e._events[r],l--,f--),h.apply(e,n)}};s(i),s(o)},t.prototype.off=function(r,e){if(!r)this._events={};else if(!e)delete this._events[r];else{for(var n=this._events[r]||[],a=n.length,i=0;i<a;i++)n[i].callback===e&&(n.splice(i,1),a--,i--);n.length===0&&delete this._events[r]}return this},t.prototype.getEvents=function(){return this._events},t}();function gf(t,r){return function(e,n){var a=n||{},i=a.fontSize,o=a.fontFamily,s=a.fontStyle,u=a.fontWeight,l=a.fontVariant,f=t.addShape("text",{attrs:{x:0,y:0,fontSize:r(i),fontFamily:o,fontStyle:s,fontWeight:u,fontVariant:l,text:e}}),c=f.getBBox(),h=c.width,v=c.height;return f.remove(!0),{width:h,height:v}}}var mf=function(t){Y(e,t);var r=E(e);function e(n){var a;O(this,e),a=r.call(this,n);var i=n.context,o=n.pixelRatio,s=n.width,u=n.height,l=n.animate,f=l===void 0?!0:l,c=n.px2hd,h=c===void 0?Ie:c,v=n.theme,p=n.style,y=h(Bt({},sf,v)),d=fu({context:i,pixelRatio:o,fontFamily:y.fontFamily,width:s,height:u}),m=d._attrs,_=m.width,w=m.height,k=h(g({left:0,top:0,width:_,height:w,padding:y.padding},p)),S=ha.fromStyle(k),D=ef(he(a)),b={root:he(a),canvas:d,left:S.left,top:S.top,width:S.width,height:S.height,theme:y,px2hd:h,measureText:gf(d,h)},C=new tf(d);return a.canvas=d,a.container=d,a.layout=S,a.context=b,a.updater=D,a.animate=f,a.animation=C,a.theme=y,a._ee=new df,a}return I(e,[{key:"renderComponents",value:function(a){!a||!a.length||(Si(a),this.draw())}},{key:"update",value:function(a){var i=this.props;dt(a,i)||(this.props=a,this.render())}},{key:"draw",value:function(){var a=this.canvas,i=this.animate;if(i===!1){a.draw();return}this.play()}},{key:"play",value:function(){var a=this,i=this.canvas,o=this.animation;o.abort(),o.play(i,function(){a.emit("animationEnd")})}},{key:"render",value:function(){var a=this.children,i=this.props,o=i.children;return Mi(this,o,a),this.draw(),null}},{key:"destroy",value:function(){var a=this.canvas;a.destroy()}},{key:"on",value:function(a,i){this._ee.on(a,i)}},{key:"emit",value:function(a,i){this._ee.emit(a,i)}},{key:"off",value:function(a,i){this._ee.off(a,i)}}]),e}(pe),hn=mf,xf=function(){function t(){O(this,t)}return I(t,[{key:"getRectRange",value:function(e){var n=e.left,a=e.top,i=e.width,o=e.height,s=e.padding,u=pt(s,4),l=u[0],f=u[1],c=u[2],h=u[3];return{left:n+h,top:a+l,width:i-h-f,height:o-l-c}}},{key:"create",value:function(e){var n=this.getRectRange(e),a=new ha(n);return this.layout=a,a}},{key:"update",value:function(e){var n=this.getRectRange(e),a=this.layout;return a.update(n),a}}]),t}(),_f=xf;function vn(t){var r=t.xMin,e=t.xMax,n=t.yMin,a=t.yMax;return{xMin:n,xMax:a,yMin:r,yMax:e}}function pn(t){var r=t.x,e=t.y,n=t.size,a=t.y0,i,o;A(r)?(i=r[0],o=r[1]):(i=r-n/2,o=r+n/2);var s,u;return A(e)?(s=e[0],u=e[1]):(s=Math.min(a,e),u=Math.max(a,e)),{xMin:i,xMax:o,yMin:s,yMax:u}}var wf=function(t){Y(e,t);var r=E(e);function e(n){var a;return O(this,e),a=r.call(this,n),a.transposed=!1,a.x=[0,1],a.y=[0,1],a.update(n),a}return I(e,[{key:"update",value:function(a){B($(e.prototype),"update",this).call(this,a);var i=this.left,o=this.top,s=this.width,u=this.height;return this.center={x:i+s/2,y:o+u/2},this}},{key:"isCyclic",value:function(){return!1}},{key:"_zoomVal",value:function(a,i){return A(a)?a.map(function(o){return i(o)}):i(a)}},{key:"convert",value:function(a){var i=this.transposed,o=this.x,s=this.y,u=i?"y":"x",l=i?"x":"y",f=a[u],c=a[l];return f<0||f>1||c<0||c>1?{x:NaN,y:NaN}:{x:this._zoomVal(a[u],function(h){return o[0]+(o[1]-o[0])*h}),y:this._zoomVal(a[l],function(h){return s[0]+(s[1]-s[0])*h})}}},{key:"invert",value:function(a){var i,o=this.transposed,s=this.x,u=this.y,l=o?"y":"x",f=o?"x":"y";return i={},Tt(i,l,this._zoomVal(a.x,function(c){return(c-s[0])/(s[1]-s[0])})),Tt(i,f,this._zoomVal(a.y,function(c){return(c-u[0])/(u[1]-u[0])})),i}},{key:"convertPoint",value:function(a){return this.convert(a)}},{key:"invertPoint",value:function(a){return this.invert(a)}},{key:"convertRect",value:function(a){var i=this.x,o=this.y,s=this.transposed,u=pt(i,2),l=u[0],f=u[1],c=pt(o,2),h=c[0],v=c[1],p=pn(a),y=s?vn(p):p,d=y.xMin,m=y.xMax,_=y.yMin,w=y.yMax,k=l+(f-l)*d,S=l+(f-l)*m,D=h+(v-h)*_,b=h+(v-h)*w;return{xMin:Math.min(k,S),xMax:Math.max(k,S),yMin:Math.min(D,b),yMax:Math.max(D,b)}}},{key:"transformToRect",value:function(a){var i=a.x,o=a.y,s=a.y0,u=a.size,l=this.convertPoint({x:0,y:s}),f=this.transposed,c={size:u,x:f?o:i,y:f?i:o,y0:f?l.x:l.y},h=pn(c),v=f?vn(h):h,p=v.xMin,y=v.xMax,d=v.yMin,m=v.yMax;return{xMin:p,xMax:y,yMin:d,yMax:m}}}]),e}(ha),Pi=wf,kf=function(t){Y(e,t);var r=E(e);function e(){var n;return O(this,e),n=r.apply(this,arguments),n.type="rect",n}return I(e,[{key:"update",value:function(a){B($(e.prototype),"update",this).call(this,a);var i=this.left,o=this.top,s=this.right,u=this.bottom,l=[i,s],f=[u,o];return this.x=l,this.y=f,this}}]),e}(Pi),oa=kf,Sf=function(t){Y(e,t);var r=E(e);function e(){var n;return O(this,e),n=r.apply(this,arguments),n.type="polar",n.isPolar=!0,n}return I(e,[{key:"update",value:function(a){B($(e.prototype),"update",this).call(this,a),this.option||(this.option=a);var i=this.option,o=i.radius,s=o===void 0?1:o,u=i.innerRadius,l=u===void 0?0:u,f=this.width,c=this.height,h=this.startAngle,v=h===void 0?-Math.PI/2:h,p=this.endAngle,y=p===void 0?Math.PI*3/2:p,d=s*(Math.min(f,c)/2),m=[v,y],_=[l*d,d];return this.x=m,this.y=_,this.startAngle=v,this.endAngle=y,this.radius=d,this.innnerRadius=l*d,this}},{key:"isCyclic",value:function(){var a=this.startAngle,i=this.endAngle;return!(i-a<Math.PI*2)}},{key:"convertPoint",value:function(a){var i=this.center,o=this.transposed,s=this.x,u=this.y,l=o?"y":"x",f=o?"x":"y",c=pt(s,2),h=c[0],v=c[1],p=pt(u,2),y=p[0],d=p[1],m=h+(v-h)*a[l],_=y+(d-y)*a[f];return{x:i.x+Math.cos(m)*_,y:i.y+Math.sin(m)*_}}},{key:"invertPoint",value:function(a){var i=this.center,o=this.transposed,s=this.x,u=this.y,l=o?"y":"x",f=o?"x":"y",c=pt(s,2),h=c[0],v=c[1],p=pt(u,2),y=p[0],d=p[1],m=[1,0,0,1,0,0];oe.rotate(m,m,h);var _=[1,0];N.transformMat2d(_,_,m),_=[_[0],_[1]];var w=[a.x-i.x,a.y-i.y];if(N.zero(w))return{x:0,y:0};var k=N.angleTo(_,w,v<h);Math.abs(k-Math.PI*2)<.001&&(k=0);var S=N.length(w),D=k/(v-h);D=v-h>0?D:-D;var b=(S-y)/(d-y),C={};return C[l]=D,C[f]=b,C}}]),e}(Pi),bf=Sf,yn={rect:oa,polar:bf},Mf=function(){function t(){O(this,t)}return I(t,[{key:"getOption",value:function(e){if(q(e))return{type:yn[e]||oa};if(H(e))return{type:e};var n=e||{},a=n.type;return g(g({},e),{},{type:H(a)?a:yn[a]||oa})}},{key:"create",value:function(e,n){var a=this.getOption(e),i=a.type,o=new i(g(g({},a),n));return this.coord=o,o}},{key:"updateLayout",value:function(e){this.coord.update(e)}},{key:"update",value:function(){}}]),t}(),Pf=Mf,Ci={};function Cf(t){return Ci[t]}function it(t,r){Ci[t]=r}var ga=function(){function t(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return t.prototype.translate=function(r){return r},t.prototype.change=function(r){V(this.__cfg__,r),this.init()},t.prototype.clone=function(){return this.constructor(this.__cfg__)},t.prototype.getTicks=function(){var r=this;return Ho(this.ticks,function(e,n){return Re(e)?e:{text:r.getText(e,n),tickValue:e,value:r.scale(e)}})},t.prototype.getText=function(r,e){var n=this.formatter,a=n?n(r,e):r;return P(a)||!H(a.toString)?"":a.toString()},t.prototype.getConfig=function(r){return this.__cfg__[r]},t.prototype.init=function(){V(this,this.__cfg__),this.setDomain(),Xo(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},t.prototype.initCfg=function(){},t.prototype.setDomain=function(){},t.prototype.calculateTicks=function(){var r=this.tickMethod,e=[];if(q(r)){var n=Cf(r);if(!n)throw new Error("There is no method to to calculate ticks!");e=n(this)}else H(r)&&(e=r(this));return e},t.prototype.rangeMin=function(){return this.range[0]},t.prototype.rangeMax=function(){return this.range[1]},t.prototype.calcPercent=function(r,e,n){return W(r)?(r-e)/(n-e):NaN},t.prototype.calcValue=function(r,e,n){return e+r*(n-e)},t}(),cr=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="cat",e.isCategory=!0,e}return r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var e=0;e<this.values.length;e++)this.translateIndexMap.set(this.values[e],e)}},r.prototype.translate=function(e){this.buildIndexMap();var n=this.translateIndexMap.get(e);return n===void 0&&(n=W(e)?e:NaN),n},r.prototype.scale=function(e){var n=this.translate(e),a=this.calcPercent(n,this.min,this.max);return this.calcValue(a,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(e){var n=this.max-this.min,a=this.calcPercent(e,this.rangeMin(),this.rangeMax()),i=Math.round(n*a)+this.min;return i<this.min||i>this.max?NaN:this.values[i]},r.prototype.getText=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=e;return W(e)&&!this.values.includes(e)&&(i=this.values[i]),t.prototype.getText.apply(this,zn([i],n))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if(P(this.getConfig("min"))&&(this.min=0),P(this.getConfig("max"))){var e=this.values.length;this.max=e>1?e-1:e}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(ga),Ti=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Nt="\\d\\d?",Rt="\\d\\d",Tf="\\d{3}",Af="\\d{4}",Me="[^\\s]+",Ai=/\[([^]*?)\]/gm;function Oi(t,r){for(var e=[],n=0,a=t.length;n<a;n++)e.push(t[n].substr(0,r));return e}var dn=function(t){return function(r,e){var n=e[t].map(function(i){return i.toLowerCase()}),a=n.indexOf(r.toLowerCase());return a>-1?a:null}};function Ft(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];for(var n=0,a=r;n<a.length;n++){var i=a[n];for(var o in i)t[o]=i[o]}return t}var Ii=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Di=["January","February","March","April","May","June","July","August","September","October","November","December"],Of=Oi(Di,3),If=Oi(Ii,3),ma={dayNamesShort:If,dayNames:Ii,monthNamesShort:Of,monthNames:Di,amPm:["am","pm"],DoFn:function(t){return t+["th","st","nd","rd"][t%10>3?0:(t-t%10!==10?1:0)*t%10]}},sr=Ft({},ma),Li=function(t){return sr=Ft(sr,t)},gn=function(t){return t.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Q=function(t,r){for(r===void 0&&(r=2),t=String(t);t.length<r;)t="0"+t;return t},Df={D:function(t){return String(t.getDate())},DD:function(t){return Q(t.getDate())},Do:function(t,r){return r.DoFn(t.getDate())},d:function(t){return String(t.getDay())},dd:function(t){return Q(t.getDay())},ddd:function(t,r){return r.dayNamesShort[t.getDay()]},dddd:function(t,r){return r.dayNames[t.getDay()]},M:function(t){return String(t.getMonth()+1)},MM:function(t){return Q(t.getMonth()+1)},MMM:function(t,r){return r.monthNamesShort[t.getMonth()]},MMMM:function(t,r){return r.monthNames[t.getMonth()]},YY:function(t){return Q(String(t.getFullYear()),4).substr(2)},YYYY:function(t){return Q(t.getFullYear(),4)},h:function(t){return String(t.getHours()%12||12)},hh:function(t){return Q(t.getHours()%12||12)},H:function(t){return String(t.getHours())},HH:function(t){return Q(t.getHours())},m:function(t){return String(t.getMinutes())},mm:function(t){return Q(t.getMinutes())},s:function(t){return String(t.getSeconds())},ss:function(t){return Q(t.getSeconds())},S:function(t){return String(Math.round(t.getMilliseconds()/100))},SS:function(t){return Q(Math.round(t.getMilliseconds()/10),2)},SSS:function(t){return Q(t.getMilliseconds(),3)},a:function(t,r){return t.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(t,r){return t.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(t){var r=t.getTimezoneOffset();return(r>0?"-":"+")+Q(Math.floor(Math.abs(r)/60)*100+Math.abs(r)%60,4)},Z:function(t){var r=t.getTimezoneOffset();return(r>0?"-":"+")+Q(Math.floor(Math.abs(r)/60),2)+":"+Q(Math.abs(r)%60,2)}},mn=function(t){return+t-1},xn=[null,Nt],_n=[null,Me],wn=["isPm",Me,function(t,r){var e=t.toLowerCase();return e===r.amPm[0]?0:e===r.amPm[1]?1:null}],kn=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(t){var r=(t+"").match(/([+-]|\d\d)/gi);if(r){var e=+r[1]*60+parseInt(r[2],10);return r[0]==="+"?e:-e}return 0}],Lf={D:["day",Nt],DD:["day",Rt],Do:["day",Nt+Me,function(t){return parseInt(t,10)}],M:["month",Nt,mn],MM:["month",Rt,mn],YY:["year",Rt,function(t){var r=new Date,e=+(""+r.getFullYear()).substr(0,2);return+(""+(+t>68?e-1:e)+t)}],h:["hour",Nt,void 0,"isPm"],hh:["hour",Rt,void 0,"isPm"],H:["hour",Nt],HH:["hour",Rt],m:["minute",Nt],mm:["minute",Rt],s:["second",Nt],ss:["second",Rt],YYYY:["year",Af],S:["millisecond","\\d",function(t){return+t*100}],SS:["millisecond",Rt,function(t){return+t*10}],SSS:["millisecond",Tf],d:xn,dd:xn,ddd:_n,dddd:_n,MMM:["month",Me,dn("monthNamesShort")],MMMM:["month",Me,dn("monthNames")],a:wn,A:wn,ZZ:kn,Z:kn},ur={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ri=function(t){return Ft(ur,t)},Ni=function(t,r,e){if(r===void 0&&(r=ur.default),e===void 0&&(e={}),typeof t=="number"&&(t=new Date(t)),Object.prototype.toString.call(t)!=="[object Date]"||isNaN(t.getTime()))throw new Error("Invalid Date pass to format");r=ur[r]||r;var n=[];r=r.replace(Ai,function(i,o){return n.push(o),"@@@"});var a=Ft(Ft({},sr),e);return r=r.replace(Ti,function(i){return Df[i](t,a)}),r.replace(/@@@/g,function(){return n.shift()})};function Yi(t,r,e){if(e===void 0&&(e={}),typeof r!="string")throw new Error("Invalid format in fecha parse");if(r=ur[r]||r,t.length>1e3)return null;var n=new Date,a={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},i=[],o=[],s=r.replace(Ai,function(k,S){return o.push(gn(S)),"@@@"}),u={},l={};s=gn(s).replace(Ti,function(k){var S=Lf[k],D=S[0],b=S[1],C=S[3];if(u[D])throw new Error("Invalid format. "+D+" specified twice in format");return u[D]=!0,C&&(l[C]=!0),i.push(S),"("+b+")"}),Object.keys(l).forEach(function(k){if(!u[k])throw new Error("Invalid format. "+k+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var f=t.match(new RegExp(s,"i"));if(!f)return null;for(var c=Ft(Ft({},sr),e),h=1;h<f.length;h++){var v=i[h-1],p=v[0],y=v[2],d=y?y(f[h],c):+f[h];if(d==null)return null;a[p]=d}a.isPm===1&&a.hour!=null&&+a.hour!=12?a.hour=+a.hour+12:a.isPm===0&&+a.hour==12&&(a.hour=0);var m;if(a.timezoneOffset==null){m=new Date(a.year,a.month,a.day,a.hour,a.minute,a.second,a.millisecond);for(var _=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,w=_.length;h<w;h++)if(u[_[h][0]]&&a[_[h][0]]!==m[_[h][1]]())return null}else if(m=new Date(Date.UTC(a.year,a.month,a.day,a.hour,a.minute-a.timezoneOffset,a.second,a.millisecond)),a.month>11||a.month<0||a.day>31||a.day<1||a.hour>23||a.hour<0||a.minute>59||a.minute<0||a.second>59||a.second<0)return null;return m}var Ei={format:Ni,parse:Yi,defaultI18n:ma,setGlobalDateI18n:Li,setGlobalDateMasks:Ri},Rf=Object.freeze(Object.defineProperty({__proto__:null,default:Ei,assign:Ft,format:Ni,parse:Yi,defaultI18n:ma,setGlobalDateI18n:Li,setGlobalDateMasks:Ri},Symbol.toStringTag,{value:"Module"}));function Nf(t){return function(r,e,n,a){for(var i=P(n)?0:n,o=P(a)?r.length:a;i<o;){var s=i+o>>>1;t(r[s])>e?o=s:i=s+1}return i}}var Sn="format";function $i(t,r){var e=Rf[Sn]||Ei[Sn];return e(t,r)}function lr(t){return q(t)&&(t.indexOf("T")>0?t=new Date(t).getTime():t=new Date(t.replace(/-/gi,"/")).getTime()),la(t)&&(t=t.getTime()),t}var vt=1e3,qt=60*vt,Ut=60*qt,At=24*Ut,Pe=At*31,bn=At*365,ke=[["HH:mm:ss",vt],["HH:mm:ss",vt*10],["HH:mm:ss",vt*30],["HH:mm",qt],["HH:mm",qt*10],["HH:mm",qt*30],["HH",Ut],["HH",Ut*6],["HH",Ut*12],["YYYY-MM-DD",At],["YYYY-MM-DD",At*4],["YYYY-WW",At*7],["YYYY-MM",Pe],["YYYY-MM",Pe*4],["YYYY-MM",Pe*6],["YYYY",At*380]];function Yf(t,r,e){var n=(r-t)/e,a=Nf(function(o){return o[1]})(ke,n)-1,i=ke[a];return a<0?i=ke[0]:a>=ke.length&&(i=yt(ke)),i}var Ef=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="timeCat",e}return r.prototype.translate=function(e){e=lr(e);var n=this.values.indexOf(e);return n===-1&&(W(e)&&e<this.values.length?n=e:n=NaN),n},r.prototype.getText=function(e,n){var a=this.translate(e);if(a>-1){var i=this.values[a],o=this.formatter;return i=o?o(i,n):$i(i,this.mask),i}return e},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var e=this.values;G(e,function(n,a){e[a]=lr(n)}),e.sort(function(n,a){return n-a}),t.prototype.setDomain.call(this)},r}(cr),hr=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.isContinuous=!0,e}return r.prototype.scale=function(e){if(P(e))return NaN;var n=this.rangeMin(),a=this.rangeMax(),i=this.max,o=this.min;if(i===o)return n;var s=this.getScalePercent(e);return n+s*(a-n)},r.prototype.init=function(){t.prototype.init.call(this);var e=this.ticks,n=$t(e),a=yt(e);n<this.min&&(this.min=n),a>this.max&&(this.max=a),P(this.minLimit)||(this.min=n),P(this.maxLimit)||(this.max=a)},r.prototype.setDomain=function(){var e=$n(this.values),n=e.min,a=e.max;P(this.min)&&(this.min=n),P(this.max)&&(this.max=a),this.min>this.max&&(this.min=n,this.max=a)},r.prototype.calculateTicks=function(){var e=this,n=t.prototype.calculateTicks.call(this);return this.nice||(n=En(n,function(a){return a>=e.min&&a<=e.max})),n},r.prototype.getScalePercent=function(e){var n=this.max,a=this.min;return(e-a)/(n-a)},r.prototype.getInvertPercent=function(e){return(e-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(ga),xa=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="linear",e.isLinear=!0,e}return r.prototype.invert=function(e){var n=this.getInvertPercent(e);return this.min+n*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(hr);function Yt(t,r){var e=Math.E,n;return r>=0?n=Math.pow(e,Math.log(r)/t):n=Math.pow(e,Math.log(-r)/t)*-1,n}function ft(t,r){return t===1?1:Math.log(r)/Math.log(t)}function Bi(t,r,e){P(e)&&(e=Math.max.apply(null,t));var n=e;return G(t,function(a){a>0&&a<n&&(n=a)}),n===e&&(n=e/r),n>1&&(n=1),n}var $f=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="log",e}return r.prototype.invert=function(e){var n=this.base,a=ft(n,this.max),i=this.rangeMin(),o=this.rangeMax()-i,s,u=this.positiveMin;if(u){if(e===0)return 0;s=ft(n,u/n);var l=1/(a-s)*o;if(e<l)return e/l*u}else s=ft(n,this.min);var f=(e-i)/o,c=f*(a-s)+s;return Math.pow(n,c)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){t.prototype.setDomain.call(this);var e=this.min;if(e<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");e===0&&(this.positiveMin=Bi(this.values,this.base,this.max))},r.prototype.getScalePercent=function(e){var n=this.max,a=this.min;if(n===a||e<=0)return 0;var i=this.base,o=this.positiveMin;o&&(a=o*1/i);var s;return e<o?s=e/o/(ft(i,n)-ft(i,a)):s=(ft(i,e)-ft(i,a))/(ft(i,n)-ft(i,a)),s},r}(hr),Bf=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="pow",e}return r.prototype.invert=function(e){var n=this.getInvertPercent(e),a=this.exponent,i=Yt(a,this.max),o=Yt(a,this.min),s=n*(i-o)+o,u=s>=0?1:-1;return Math.pow(s,a)*u},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(e){var n=this.max,a=this.min;if(n===a)return 0;var i=this.exponent,o=(Yt(i,e)-Yt(i,a))/(Yt(i,n)-Yt(i,a));return o},r}(hr),Ff=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="time",e}return r.prototype.getText=function(e,n){var a=this.translate(e),i=this.formatter;return i?i(a,n):$i(a,this.mask)},r.prototype.scale=function(e){var n=e;return(q(n)||la(n))&&(n=this.translate(n)),t.prototype.scale.call(this,n)},r.prototype.translate=function(e){return lr(e)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var e=this.values,n=this.getConfig("min"),a=this.getConfig("max");if((!P(n)||!W(n))&&(this.min=this.translate(this.min)),(!P(a)||!W(a))&&(this.max=this.translate(this.max)),e&&e.length){var i=[],o=1/0,s=o,u=0;G(e,function(l){var f=lr(l);if(isNaN(f))throw new TypeError("Invalid Time: "+l+" in time scale!");o>f?(s=o,o=f):s>f&&(s=f),u<f&&(u=f),i.push(f)}),e.length>1&&(this.minTickInterval=s-o),P(n)&&(this.min=o),P(a)&&(this.max=u)}},r}(xa),Fi=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="quantize",e}return r.prototype.invert=function(e){var n=this.ticks,a=n.length,i=this.getInvertPercent(e),o=Math.floor(i*(a-1));if(o>=a-1)return yt(n);if(o<0)return $t(n);var s=n[o],u=n[o+1],l=o/(a-1),f=(o+1)/(a-1);return s+(i-l)/(f-l)*(u-s)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var e=t.prototype.calculateTicks.call(this);return this.nice||(yt(e)!==this.max&&e.push(this.max),$t(e)!==this.min&&e.unshift(this.min)),e},r.prototype.getScalePercent=function(e){var n=this.ticks;if(e<$t(n))return 0;if(e>yt(n))return 1;var a=0;return G(n,function(i,o){if(e>=i)a=o;else return!1}),a/(n.length-1)},r}(hr),jf=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="quantile",e}return r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(Fi),ji={};function Xi(t){return ji[t]}function kt(t,r){if(Xi(t))throw new Error("type '"+t+"' existed.");ji[t]=r}var Hi=function(t){wt(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.type="identity",e.isIdentity=!0,e}return r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(e){return this.values[0]!==e&&W(e)?e:this.range[0]},r.prototype.invert=function(e){var n=this.range;return e<n[0]||e>n[1]?NaN:this.values[0]},r}(ga);function zi(t){var r=t.values,e=t.tickInterval,n=t.tickCount,a=t.showLast;if(W(e)){var i=En(r,function(p,y){return y%e===0}),o=yt(r);return a&&yt(i)!==o&&i.push(o),i}var s=r.length,u=t.min,l=t.max;if(P(u)&&(u=0),P(l)&&(l=r.length-1),!W(n)||n>=s)return r.slice(u,l+1);if(n<=0||l<=0)return[];for(var f=n===1?s:Math.floor(s/(n-1)),c=[],h=u,v=0;v<n&&!(h>=l);v++)h=Math.min(u+v*f,l),v===n-1&&a?c.push(r[l]):c.push(r[h]);return c}function Xf(t){var r=t.min,e=t.max,n=t.nice,a=t.tickCount,i=new Hf;return i.domain([r,e]),n&&i.nice(a),i.ticks(a)}var Er=5,Mn=Math.sqrt(50),Pn=Math.sqrt(10),Cn=Math.sqrt(2),Hf=function(){function t(){this._domain=[0,1]}return t.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},t.prototype.nice=function(r){var e,n;r===void 0&&(r=Er);var a=this._domain.slice(),i=0,o=this._domain.length-1,s=this._domain[i],u=this._domain[o],l;return u<s&&(e=[u,s],s=e[0],u=e[1],n=[o,i],i=n[0],o=n[1]),l=er(s,u,r),l>0?(s=Math.floor(s/l)*l,u=Math.ceil(u/l)*l,l=er(s,u,r)):l<0&&(s=Math.ceil(s*l)/l,u=Math.floor(u*l)/l,l=er(s,u,r)),l>0?(a[i]=Math.floor(s/l)*l,a[o]=Math.ceil(u/l)*l,this.domain(a)):l<0&&(a[i]=Math.ceil(s*l)/l,a[o]=Math.floor(u*l)/l,this.domain(a)),this},t.prototype.ticks=function(r){return r===void 0&&(r=Er),zf(this._domain[0],this._domain[this._domain.length-1],r||Er)},t}();function zf(t,r,e){var n,a=-1,i,o,s;if(r=+r,t=+t,e=+e,t===r&&e>0)return[t];if((n=r<t)&&(i=t,t=r,r=i),(s=er(t,r,e))===0||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),r=Math.floor(r/s),o=new Array(i=Math.ceil(r-t+1));++a<i;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),r=Math.ceil(r*s),o=new Array(i=Math.ceil(t-r+1));++a<i;)o[a]=(t-a)/s;return n&&o.reverse(),o}function er(t,r,e){var n=(r-t)/Math.max(0,e),a=Math.floor(Math.log(n)/Math.LN10),i=n/Math.pow(10,a);return a>=0?(i>=Mn?10:i>=Pn?5:i>=Cn?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(i>=Mn?10:i>=Pn?5:i>=Cn?2:1)}function Tn(t,r,e){var n;return e==="ceil"?n=Math.ceil(t/r):e==="floor"?n=Math.floor(t/r):n=Math.round(t/r),n*r}function _a(t,r,e){var n=Tn(t,e,"floor"),a=Tn(r,e,"ceil");n=Mr(n,e),a=Mr(a,e);for(var i=[],o=Math.max((a-n)/(Math.pow(2,12)-1),e),s=n;s<=a;s=s+o){var u=Mr(s,o);i.push(u)}return{min:n,max:a,ticks:i}}function wa(t,r,e){var n,a=t.minLimit,i=t.maxLimit,o=t.min,s=t.max,u=t.tickCount,l=u===void 0?5:u,f=P(a)?P(r)?o:r:a,c=P(i)?P(e)?s:e:i;if(f>c&&(n=[f,c],c=n[0],f=n[1]),l<=2)return[f,c];for(var h=(c-f)/(l-1),v=[],p=0;p<l;p++)v.push(f+h*p);return v}function Wf(t){var r=t.min,e=t.max,n=t.tickInterval,a=t.minLimit,i=t.maxLimit,o=Xf(t);return!P(a)||!P(i)?wa(t,$t(o),yt(o)):n?_a(r,e,n).ticks:o}function se(t){return Math.abs(t)<1e-15?t:parseFloat(t.toFixed(15))}var Vf=[1,5,2,2.5,4,3],An=Number.EPSILON*100;function Gf(t,r){return(t%r+r)%r}function qf(t){return Math.round(t*1e12)/1e12}function Uf(t,r,e,n,a,i){var o=Hn(r),s=Xn(r,t),u=0,l=Gf(n,i);return(l<An||i-l<An)&&n<=0&&a>=0&&(u=1),1-s/(o-1)-e+u}function Zf(t,r,e){var n=Hn(r),a=Xn(r,t),i=1;return 1-a/(n-1)-e+i}function Jf(t,r,e,n,a,i){var o=(t-1)/(i-a),s=(r-1)/(Math.max(i,n)-Math.min(e,a));return 2-Math.max(o/s,s/o)}function Kf(t,r){return t>=r?2-(t-1)/(r-1):1}function Qf(t,r,e,n){var a=r-t;return 1-.5*(Math.pow(r-n,2)+Math.pow(t-e,2))/Math.pow(.1*a,2)}function tc(t,r,e){var n=r-t;if(e>n){var a=(e-n)/2;return 1-Math.pow(a,2)/Math.pow(.1*n,2)}return 1}function ec(){return 1}function rc(t,r,e,n,a,i){e===void 0&&(e=5),n===void 0&&(n=!0),a===void 0&&(a=Vf),i===void 0&&(i=[.25,.2,.5,.05]);var o=e<0?0:Math.round(e);if(Number.isNaN(t)||Number.isNaN(r)||typeof t!="number"||typeof r!="number"||!o)return{min:0,max:0,ticks:[]};if(r-t<1e-15||o===1)return{min:t,max:r,ticks:[t]};for(var s={score:-2,lmin:0,lmax:0,lstep:0},u=1;u<1/0;){for(var l=0;l<a.length;l+=1){var f=a[l],c=Zf(f,a,u);if(i[0]*c+i[1]+i[2]+i[3]<s.score){u=1/0;break}for(var h=2;h<1/0;){var v=Kf(h,o);if(i[0]*c+i[1]+i[2]*v+i[3]<s.score)break;for(var p=(r-t)/(h+1)/u/f,y=Math.ceil(Math.log10(p));y<1/0;){var d=u*f*Math.pow(10,y),m=tc(t,r,d*(h-1));if(i[0]*c+i[1]*m+i[2]*v+i[3]<s.score)break;var _=Math.floor(r/d)*u-(h-1)*u,w=Math.ceil(t/d)*u;if(_<=w)for(var k=w-_,S=0;S<=k;S+=1){var D=_+S,b=D*(d/u),C=b+d*(h-1),x=d,T=Uf(f,a,u,b,C,x),j=Qf(t,r,b,C),R=Jf(h,o,t,r,b,C),U=ec(),ot=i[0]*T+i[1]*j+i[2]*R+i[3]*U;ot>s.score&&(!n||b<=t&&C>=r)&&(s.lmin=b,s.lmax=C,s.lstep=x,s.score=ot)}y+=1}h+=1}}u+=1}var St=se(s.lmax),Ot=se(s.lmin),st=se(s.lstep),It=Math.floor(qf((St-Ot)/st))+1,K=new Array(It);K[0]=se(Ot);for(var l=1;l<It;l++)K[l]=se(K[l-1]+st);return{min:Math.min(t,$t(K)),max:Math.max(r,yt(K)),ticks:K}}function ac(t){var r=t.min,e=t.max,n=t.tickCount,a=t.nice,i=t.tickInterval,o=t.minLimit,s=t.maxLimit,u=rc(r,e,n,a).ticks;return!P(o)||!P(s)?wa(t,$t(u),yt(u)):i?_a(r,e,i).ticks:u}function nc(t){var r=t.base,e=t.tickCount,n=t.min,a=t.max,i=t.values,o,s=ft(r,a);if(n>0)o=Math.floor(ft(r,n));else{var u=Bi(i,r,a);o=Math.floor(ft(r,u))}for(var l=s-o,f=Math.ceil(l/e),c=[],h=o;h<s+f;h=h+f)c.push(Math.pow(r,h));return n<=0&&c.unshift(0),c}function Wi(t,r,e){if(e===void 0&&(e=5),t===r)return{max:r,min:t,ticks:[t]};var n=e<0?0:Math.round(e);if(n===0)return{max:r,min:t,ticks:[]};var a=1.5,i=.5+1.5*a,o=r-t,s=o/n,u=Math.pow(10,Math.floor(Math.log10(s))),l=u;2*u-s<a*(s-l)&&(l=2*u,5*u-s<i*(s-l)&&(l=5*u,10*u-s<a*(s-l)&&(l=10*u)));for(var f=Math.ceil(r/l),c=Math.floor(t/l),h=Math.max(f*l,r),v=Math.min(c*l,t),p=Math.floor((h-v)/l)+1,y=new Array(p),d=0;d<p;d++)y[d]=se(v+d*l);return{min:v,max:h,ticks:y}}function ic(t){var r=t.exponent,e=t.tickCount,n=Math.ceil(Yt(r,t.max)),a=Math.floor(Yt(r,t.min)),i=Wi(a,n,e).ticks;return i.map(function(o){var s=o>=0?1:-1;return Math.pow(o,r)*s})}function oc(t,r){var e=t.length*r;return r===1?t[t.length-1]:r===0?t[0]:e%1!==0?t[Math.ceil(e)-1]:t.length%2===0?(t[e-1]+t[e])/2:t[e]}function sc(t){var r=t.tickCount,e=t.values;if(!e||!e.length)return[];for(var n=e.slice().sort(function(s,u){return s-u}),a=[],i=0;i<r;i++){var o=i/(r-1);a.push(oc(n,o))}return a}function uc(t){var r=t.min,e=t.max,n=t.tickCount,a=t.tickInterval,i=t.minLimit,o=t.maxLimit,s=Wi(r,e,n).ticks;return!P(i)||!P(o)?wa(t,$t(s),yt(s)):a?_a(r,e,a).ticks:s}function lc(t){var r=t.min,e=t.max,n=t.minTickInterval,a=t.tickInterval,i=t.tickCount;if(a)i=Math.ceil((e-r)/a);else{a=Yf(r,e,i)[1];var o=(e-r)/a,s=o/i;s>1&&(a=a*Math.ceil(s)),n&&a<n&&(a=n)}a=Math.max(Math.floor((e-r)/(Math.pow(2,12)-1)),a);for(var u=[],l=r;l<e+a;l+=a)u.push(l);return u}function fc(t){var r=zi(Hr({showLast:!0},t));return r}function fr(t){return new Date(t).getFullYear()}function cc(t){return new Date(t,0,1).getTime()}function sa(t){return new Date(t).getMonth()}function hc(t,r){var e=fr(t),n=fr(r),a=sa(t),i=sa(r);return(n-e)*12+(i-a)%12}function vc(t,r){return new Date(t,r,1).getTime()}function pc(t,r){return Math.ceil((r-t)/At)}function yc(t,r){return Math.ceil((r-t)/Ut)}function dc(t,r){return Math.ceil((r-t)/(60*1e3))}function gc(t){var r=t.min,e=t.max,n=t.minTickInterval,a=t.tickCount,i=t.tickInterval,o=[];i||(i=(e-r)/a,n&&i<n&&(i=n)),i=Math.max(Math.floor((e-r)/(Math.pow(2,12)-1)),i);var s=fr(r);if(i>bn)for(var u=fr(e),l=Math.ceil(i/bn),f=s;f<=u+l;f=f+l)o.push(cc(f));else if(i>Pe)for(var c=Math.ceil(i/Pe),h=sa(r),v=hc(r,e),f=0;f<=v+c;f=f+c)o.push(vc(s,f+h));else if(i>At)for(var p=new Date(r),y=p.getFullYear(),d=p.getMonth(),m=p.getDate(),_=Math.ceil(i/At),w=pc(r,e),f=0;f<w+_;f=f+_)o.push(new Date(y,d,m+f).getTime());else if(i>Ut)for(var p=new Date(r),y=p.getFullYear(),d=p.getMonth(),_=p.getDate(),k=p.getHours(),S=Math.ceil(i/Ut),D=yc(r,e),f=0;f<=D+S;f=f+S)o.push(new Date(y,d,_,k+f).getTime());else if(i>qt)for(var b=dc(r,e),C=Math.ceil(i/qt),f=0;f<=b+C;f=f+C)o.push(r+f*qt);else{var x=i;x<vt&&(x=vt);for(var T=Math.floor(r/vt)*vt,j=Math.ceil((e-r)/vt),R=Math.ceil(x/vt),f=0;f<j+R;f=f+R)o.push(T+f*vt)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+i+") is too small, increase the value to solve the problem!"),o}it("cat",zi);it("time-cat",fc);it("wilkinson-extended",ac);it("r-pretty",uc);it("time",lc);it("time-pretty",gc);it("log",nc);it("pow",ic);it("quantile",sc);it("d3-linear",Wf);kt("cat",cr);kt("category",cr);kt("identity",Hi);kt("linear",xa);kt("log",$f);kt("pow",Bf);kt("time",Ff);kt("timeCat",Ef);kt("quantize",Fi);kt("quantile",jf);var Vi=function(t){var r=t.values,e=t.tickCount;if(!e||r.length<=1)return r;for(var n=Math.floor(r.length/(e-1))||1,a=[],i=0;i<r.length;i=i+n)a.push(r[i]);var o=r[r.length-1];return a[a.length-1]!==o&&(a.length>=e?a[a.length-1]=o:a.push(o)),a},le=[1,1.2,1.5,2,2.2,2.4,2.5,3,4,5,6,7.5,8,10],mc=5,xc=function(t){var r=t||{},e=r.tickCount,n=r.tickInterval,a=t||{},i=a.min,o=a.max;i=isNaN(i)?0:i,o=isNaN(o)?0:o;var s=e&&e>=2?e:mc,u=n||wc({tickCount:s,max:o,min:i}),l=Math.floor(i/u)*u;if(n){var f=Math.abs(Math.ceil((o-l)/n))+1;s=Math.max(s,f)}for(var c=[],h=0,v=ua(u);h<s;)c.push(qi(l+h*u,v)),h++;return c},_c=12;function On(t){t=Math.abs(t);var r=1;if(t===0)return r;if(t<1){for(var e=0;t<1;)r=r/10,t=t*10,e++;return r.toString().length>_c&&(r=parseFloat(r.toFixed(e))),r}for(;t>10;)r=r*10,t=t/10;return r}function wc(t){var r=t.tickCount,e=t.min,n=t.max;if(e===n)return 1*On(n);for(var a=(n-e)/(r-1),i=On(a),o=a/i,s=n/i,u=e/i,l=0,f=0;f<le.length;f++){var c=le[f];if(o<=c){l=f;break}}var h=Gi(l,r,u,s),v=ua(h)+ua(i);return qi(h*i,v)}function Gi(t,r,e,n){for(var a=!1,i=le[t],o=t;o<le.length;o++)if(kc({interval:le[o],tickCount:r,max:n,min:e})){i=le[o],a=!0;break}return a?i:10*Gi(0,r,e/10,n/10)}function kc(t){var r=t.interval,e=t.tickCount,n=t.max,a=t.min,i=Math.floor(a/r)*r;return i+(e-1)*r>=n}function ua(t){var r=t.toString(),e=r.indexOf("."),n=r.indexOf("e-"),a=n>=0?parseInt(r.substr(n+2),10):r.substr(e+1).length;return a>20&&(a=20),a}function qi(t,r){return parseFloat(t.toFixed(r))}it("cat",Vi);it("time-cat",Vi);it("wilkinson-extended",xc);var Sc=function(){function t(r){O(this,t),this.data=r,this.options={},this.scales={}}return I(t,[{key:"_getType",value:function(e){var n=e.type,a=e.values,i=e.field;return n||(W(i)||P(a[0])&&i?"identity":typeof a[0]=="number"?"linear":"cat")}},{key:"_getOption",value:function(e){var n=e.values,a=e.field,i=e.justifyContent,o=this._getType(e);if(e.type=o,o==="identity")return e.field=a.toString(),e.values=[a],e;if(o==="linear"){typeof e.nice!="boolean"&&(e.nice=!0);var s=$n(n),u=s.min,l=s.max;return P(e.min)&&(e.min=u),P(e.max)&&(e.max=l),e}if(o==="cat"||o==="timeCat"){if(e.range)return e;var f=n.length,c=[0,1];if(f===1)c=[.5,1];else if(i){var h=1/f*.5;c=[h,1-h]}else{var v=1/f;c=[0,1-v]}e.range=c}return e}},{key:"createScale",value:function(e){var n=e.type;if(H(n))return new n(e);var a=Xi(n);return new a(e)}},{key:"setScale",value:function(e,n){var a=this.options,i=this.scales;a[e]=V({},a[e],n),i[e]&&delete i[e]}},{key:"create",value:function(e){this.update(e)}},{key:"update",value:function(e){var n=this;!e||(G(e,function(a,i){n.setScale(i,a)}),this.scales=g({},this.scales))}},{key:"changeData",value:function(e){this.data=e,this.scales={}}},{key:"getData",value:function(){return this.data}},{key:"getScale",value:function(e){var n=this.scales,a=this.options,i=this.data,o=n[e];if(o)return o;var s=a[e];if(!s)return null;var u=s.values?s.values:i?Bn(i,e):[],l=this._getOption(g(g({},s),{},{field:e,values:u})),f=this.createScale(l);return n[e]=f,f}},{key:"getScales",value:function(){var e=this,n=this.options,a=this.scales;return G(n,function(i,o){e.getScale(o)}),a}},{key:"adjustStartZero",value:function(e){var n=this.options,a=e.field,i=e.min,o=e.max,s=n[a];s&&s.min||(i>0?e.change({min:0}):o<0&&e.change({max:0}))}},{key:"adjustPieScale",value:function(e){var n=this.options,a=e.field,i=n[a];if(i&&!P(i.nice))return null;e.change({nice:!1})}},{key:"getZeroValue",value:function(e){var n=e.min,a=e.max,i;return n>=0?i=n:a<=0?i=a:i=0,e.scale(i)}}]),t}(),bc=Sc,Mc=function(t){Y(e,t);var r=E(e);function e(n,a,i){var o;O(this,e),o=r.call(this,n,a,i),o.componentsPosition=[];var s=n.data,u=n.coord,l=n.scale,f=l===void 0?[]:l;o.layoutController=new _f,o.coordController=new Pf,o.scaleController=new bc(s),o.scale=o.scaleController;var c=he(o),h=c.layoutController,v=c.coordController,p=c.scaleController,y=o.getStyle(n,a);return o.layout=h.create(y),o.coord=v.create(u,o.layout),p.create(f),o.data=s,o.state={filters:{}},o}return I(e,[{key:"willReceiveProps",value:function(a){var i=this.layoutController,o=this.coordController,s=this.scaleController,u=this.props,l=a.style,f=a.data,c=a.scale,h=u.style,v=u.data,p=u.scale;if(!dt(l,h)){var y=this.getStyle(a,this.context);this.layout=i.create(y),o.updateLayout(this.layout)}f!==v&&s.changeData(f),dt(c,p)||s.update(c)}},{key:"willUpdate",value:function(){var a=this.coordController,i=this.props;this.coord=a.create(i.coord,this.layout)}},{key:"getStyle",value:function(a,i){var o=i.theme,s=i.px2hd,u=i.left,l=i.top,f=i.width,c=i.height,h=a.style;return s(g(g({left:u,top:l,width:f,height:c},o.chart),h))}},{key:"layoutCoord",value:function(a){var i=this.coord,o=a.position,s=a.width,u=a.height,l=i.left,f=i.top,c=i.width,h=i.height;switch(o){case"left":l+=s,c=Math.max(0,c-s);break;case"right":c=Math.max(0,c-s);break;case"top":f+=u,h=Math.max(0,h-u);break;case"bottom":h=Math.max(0,h-u);break}i.update({left:l,top:f,width:c,height:h})}},{key:"resetCoordLayout",value:function(){var a=this.coord,i=this.layout;a.update(i)}},{key:"updateCoordLayout",value:function(a){var i=this;if(A(a)){a.forEach(function(o){i.layoutCoord(o)});return}this.layoutCoord(a)}},{key:"updateCoordFor",value:function(a,i){var o=this;if(!!i){var s=this.componentsPosition,u={component:a,layout:i},l=So(s,function(f){return f.component===a});if(l>-1){s.splice(l,1,u),this.resetCoordLayout(),s.forEach(function(f){var c=f.layout;o.updateCoordLayout(c)});return}s.push(u),this.updateCoordLayout(i)}}},{key:"getGeometrys",value:function(){var a=this.children,i=[];return Z.toArray(a).forEach(function(o){if(!o)return!1;var s=o.component;s&&s.isGeometry&&i.push(s)}),i}},{key:"getPosition",value:function(a){for(var i=this.getCoord(),o=this.getXScales()[0],s=o.field,u=this.getYScales(),l=u[0],f=l.field,c=0,h=u.length;c<h;c++){var v=u[c],p=v.field;if(a[p]){l=v,f=p;break}}var y=o.scale(a[s]),d=l.scale(a[f]);return i.convertPoint({x:y,y:d})}},{key:"getSnapRecords",value:function(a){var i=this.getGeometrys();if(!!i.length)return i[0].getSnapRecords(a)}},{key:"getLegendItems",value:function(a){var i=this.getGeometrys();if(!!i.length)return i[0].getLegendItems(a)}},{key:"setScale",value:function(a,i){this.scaleController.setScale(a,i)}},{key:"getScale",value:function(a){return this.scaleController.getScale(a)}},{key:"getScales",value:function(){return this.scaleController.getScales()}},{key:"getXScales",value:function(){var a=this.getGeometrys();return a.map(function(i){return i.getXScale()})}},{key:"getYScales",value:function(){var a=this.getGeometrys();return a.map(function(i){return i.getYScale()})}},{key:"getCoord",value:function(){return this.coord}},{key:"filter",value:function(a,i){var o=this.state.filters;this.setState({filters:g(g({},o),{},Tt({},a,i))})}},{key:"_getRenderData",value:function(){var a=this.props,i=this.state,o=a.data,s=i.filters;if(!s||!Object.keys(s).length)return o;var u=o;return G(s,function(l,f){!l||(u=u.filter(function(c){return l(c[f],c)}))}),u}},{key:"render",value:function(){var a=this,i=this.props,o=this.layout,s=this.coord,u=i.children,l=i.data;if(!l)return null;var f=this._getRenderData();return Z.map(u,function(c){return Z.cloneElement(c,{chart:a,coord:s,data:f,layout:o})})}}]),e}(pe),Pc=Mc;function Cc(t,r,e){if(t===r)return!0;for(var n=0,a=e.length;n<a;n++){var i=e[n];if(t[i]!==r[i])return!1}return!0}var Tc=function(t){Y(e,t);var r=E(e);function e(n,a){var i;O(this,e),i=r.call(this,n,a);var o=n.selection;if(!o)return qn(i);var s=o.defaultSelected;return i.state.selected=s,i}return I(e,[{key:"didMount",value:function(){var a=this,i=this.props,o=this.state,s=this.container,u=s.get("canvas"),l=i.selection,f=i.chart;if(!!l){var c=l.triggerOn,h=c===void 0?"click":c;u.on(h,function(v){var p=v.points,y=a.getSnapRecords(p[0]),d=l.type,m=d===void 0?"single":d,_=l.cancelable,w=_===void 0?!0:_;if(!y||!y.length){w&&a.setState({selected:null});return}var k=o.selected,S=y.map(function(j){return j.origin});if((!k||!k.length)&&a.setState({selected:S}),m==="single"){if(!w){a.setState({selected:S});return}var D=[];y.forEach(function(j){a.isSelected(j)||D.push(j.origin)}),a.setState({selected:D});return}var b=f.getScales(),C=Object.keys(b),x={};k.forEach(function(j){var R=C.map(function(U){return j[U]}).join("-");x[R]=j}),y.forEach(function(j){var R=j.origin,U=C.map(function(ot){return R[ot]}).join("-");x[U]=x[U]?null:R});var T=Object.keys(x).map(function(j){return x[j]}).filter(Boolean);a.setState({selected:T})})}}},{key:"willReceiveProps",value:function(a){var i=a.selection,o=this.props.selection;if(!(!i||!o)){var s=i.defaultSelected,u=o.defaultSelected;dt(s,u)||(this.state.selected=s)}}},{key:"getSnapRecords",value:function(a){return null}},{key:"isSelected",value:function(a){var i=this.state,o=this.props,s=i.selected;if(!s||!s.length)return!1;for(var u=o.chart,l=u.getScales(),f=Object.keys(l),c=0,h=s.length;c<h;c++){var v=s[c];if(Cc(a.origin,v,f))return!0}return!1}},{key:"getSelectionStyle",value:function(a){var i=this.state,o=this.props,s=i.selected;if(!s||!s.length)return null;var u=o.selection,l=u.selectedStyle,f=u.unSelectedStyle,c=this.isSelected(a);return c?H(l)?l(a):l:H(f)?f(a):f}}]),e}(pe),Ac=Tc,Oc={}.toString,Ic=function(r,e){return Oc.call(r)==="[object "+e+"]"},Ui=Ic,Dc=Ui,Lc=Array.isArray?Array.isArray:function(t){return Dc(t,"Array")},vr=Lc,Rc=function(r){return r==null},Nc=Rc;function $r(t,r){for(var e in r)r.hasOwnProperty(e)&&e!=="constructor"&&r[e]!==void 0&&(t[e]=r[e])}var Yc=function(r,e,n,a){return e&&$r(r,e),n&&$r(r,n),a&&$r(r,a),r},Ec=Yc,$c=Ec,Bc=function(){var t=r.prototype;t._initDefaultCfg=function(){this.adjustNames=["x","y"]};function r(e){this._initDefaultCfg(),$c(this,e)}return t.processAdjust=function(){},r}(),ka=Bc;function Fc(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}var jc=vr,Xc=Nc,Zi=ka,Ji=function(t){Fc(r,t);function r(){return t.apply(this,arguments)||this}var e=r.prototype;return e._initDefaultCfg=function(){this.xField=null,this.yField=null},e.processAdjust=function(a){this.processStack(a)},e.processStack=function(a){var i=this,o=i.xField,s=i.yField,u=a.length,l={positive:{},negative:{}};i.reverseOrder&&(a=a.slice(0).reverse());for(var f=0;f<u;f++)for(var c=a[f],h=0,v=c.length;h<v;h++){var p=c[h],y=p[o]||0,d=p[s],m=y.toString();if(d=jc(d)?d[1]:d,!Xc(d)){var _=d>=0?"positive":"negative";l[_][m]||(l[_][m]=0),p[s]=[l[_][m],d+l[_][m]],l[_][m]+=d}}},r}(Zi);Zi.Stack=Ji;var Hc=Ji,zc=Hc,Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc=function(r){var e=typeof r=="undefined"?"undefined":Wc(r);return r!==null&&e==="object"||e==="function"},Gc=Vc,qc=Gc,Uc=vr,Zc=function(r,e){if(!!r){var n=void 0;if(Uc(r))for(var a=0,i=r.length;a<i&&(n=e(r[a],a),n!==!1);a++);else if(qc(r)){for(var o in r)if(r.hasOwnProperty(o)&&(n=e(r[o],o),n===!1))break}}},Sa=Zc;function Jc(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}var Ki=ka,Kc=Sa,Qc=1/2,th=1/2,Qi=function(t){Jc(r,t);function r(){return t.apply(this,arguments)||this}var e=r.prototype;return e._initDefaultCfg=function(){this.marginRatio=Qc,this.dodgeRatio=th,this.adjustNames=["x","y"]},e.getDodgeOffset=function(a,i,o){var s=this,u=a.pre,l=a.next,f=l-u,c=f*s.dodgeRatio/o,h=s.marginRatio*c,v=1/2*(f-o*c-(o-1)*h)+((i+1)*c+i*h)-1/2*c-1/2*f;return(u+l)/2+v},e.processAdjust=function(a){var i=this,o=a.length,s=i.xField;Kc(a,function(u,l){for(var f=0,c=u.length;f<c;f++){var h=u[f],v=h[s],p={pre:c===1?v-1:v-.5,next:c===1?v+1:v+.5},y=i.getDodgeOffset(p,l,o);h[s]=y}})},r}(Ki);Ki.Dodge=Qi;var eh=Qi,rh=eh,ah=Ui,nh=function(r){return ah(r,"Function")},ih=nh,oh=vr,In=ih,sh=Sa,uh=function(r,e){if(!!oh(r)){var n=r[0],a=void 0;In(e)?a=e(r[0]):a=r[0][e];var i=void 0;return sh(r,function(o){In(e)?i=e(o):i=o[e],i>a&&(n=o,a=i)}),n}},lh=uh,fh=function(r){for(var e=[],n=0;n<r.length;n++)e=e.concat(r[n]);return e},ch=fh;function hh(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r}var Ke=Sa,vh=lh,Se=vr,ph={merge:ch},to=ka,eo=function(t){hh(r,t);function r(){return t.apply(this,arguments)||this}var e=r.prototype;return e._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},e._getMax=function(a){var i=this,o=i.mergeData,s=vh(o,function(f){var c=f[a];return Se(c)?Math.max.apply(null,c):c}),u=s[a],l=Se(u)?Math.max.apply(null,u):u;return l},e._getXValuesMax=function(){var a=this,i=a.yField,o=a.xField,s={},u=a.mergeData;return Ke(u,function(l){var f=l[o],c=l[i],h=Se(c)?Math.max.apply(null,c):c;s[f]=s[f]||0,s[f]<h&&(s[f]=h)}),s},e.processAdjust=function(a){var i=this,o=ph.merge(a);i.mergeData=o,i._processSymmetric(a),i.mergeData=null},e._processSymmetric=function(a){var i=this,o=i.xField,s=i.yField,u=i._getMax(s),l=a[0][0],f;l&&Se(l[s])&&(f=i._getXValuesMax()),Ke(a,function(c){Ke(c,function(h){var v=h[s],p;if(Se(v)){var y=h[o],d=f[y];p=(u-d)/2;var m=[];Ke(v,function(_){m.push(p+_)}),h[s]=m}else p=(u-v)/2,h[s]=[p,v+p]})})},r}(to);to.Symmetric=eo;var yh=eo,dh=yh,Dn=Object.freeze(Object.defineProperty({__proto__:null,Stack:zc,Dodge:rh,Symmetric:dh},Symbol.toStringTag,{value:"Module"})),gh=function(){function t(r){O(this,t),V(this,r);var e=this.scale,n=this.field,a=this.data;if(!e&&a){var i=Bn(a,n);this.scale=this.createScale({values:i,field:n})}}return I(t,[{key:"createScale",value:function(e){return null}},{key:"_mapping",value:function(e){return e}},{key:"update",value:function(e){V(this,e)}},{key:"setRange",value:function(e){this.range=e}},{key:"normalize",value:function(e){var n=this.scale;return A(e)?e.map(function(a){return n.scale(a)}):n.scale(e)}},{key:"convert",value:function(e){return e}},{key:"mapping",value:function(e){var n=H(this.callback)?this.callback(e):null;return P(n)?this._mapping(e):n}}]),t}(),pr=gh,mh=function(t){Y(e,t);var r=E(e);function e(n){var a;return O(this,e),a=r.call(this,n),a._updateInterpolate(),a}return I(e,[{key:"createScale",value:function(a){return new xa(a)}},{key:"_updateInterpolate",value:function(){var a=pt(this.range,2),i=a[0],o=a[1];this.interpolate=ya(i,o)}},{key:"update",value:function(a){B($(e.prototype),"update",this).call(this,a),this._updateInterpolate()}},{key:"_mapping",value:function(a){var i=this.scale,o=this.interpolate;return A(a)?a.map(function(s){return o(i.scale(s))}):o(i.scale(a))}},{key:"normalize",value:function(a){var i=this.scale;return A(a)?a.map(function(o){return i.scale(o)}):i.scale(a)}},{key:"convert",value:function(a){var i=this.range,o=pt(i,2),s=o[0],u=o[1];return A(a)?a.map(function(l){return s+(u-s)*l}):s+(u-s)*a}}]),e}(pr),ro=mh,xh=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"createScale",value:function(a){return new cr(a)}},{key:"_mapping",value:function(a){var i=this.scale,o=this.range;if(i.type==="cat"){var s=i.translate(a);return o[s%o.length]}var u=i.scale(a),l=Math.round(u*(o.length-1));return o[l]}}]),e}(pr),ao=xh,_h=function(t){Y(e,t);var r=E(e);function e(){return O(this,e),r.apply(this,arguments)}return I(e,[{key:"createScale",value:function(a){return new Hi(a)}},{key:"_mapping",value:function(){var a=this.field,i=this.range;return a||i&&i[0]}}]),e}(pr),no=_h,Ln=Object.freeze(Object.defineProperty({__proto__:null,Attr:pr,Linear:ro,Category:ao,Identity:no},Symbol.toStringTag,{value:"Module"})),Br=no,Fr=ro,wh=ao,kh=["x","y","color","size","shape"],Rn=["color","size","shape"];function Sh(t,r){return new t.constructor(g(g({},t.__cfg__),r))}var bh=function(){function t(r,e){O(this,t),this.scaleController=r,this.attrsRange=e,this.options={},this.attrs={}}return I(t,[{key:"parseOption",value:function(e,n){return e?q(e)?{field:e,type:"category"}:W(e)&&n==="size"?{type:"identity",field:e}:A(e)?{field:e[0],range:e[1]}:e:{type:"identity"}}},{key:"getAttrOptions",value:function(e,n){var a=this;if(!e.x||!e.y)throw new Error("x, y are required !");var i={},o=this.attrsRange;kh.forEach(function(l){if(!!e[l]){var f=a.parseOption(e[l],l);f.range||(f.range=o[l]),i[l]=f}});var s=i.x,u=i.y;return s.justifyContent=n,s.type=Fr,u.type=Fr,i}},{key:"getDefaultAttrValues",value:function(){var e=this.attrsRange,n=e.color,a=e.shape;return{color:n[0],shape:a&&a[0]}}},{key:"getGroupScales",value:function(){var e=this.attrs,n=[];return G(Rn,function(a){var i=e[a];if(!!i){var o=i.scale;o&&o.isCategory&&n.indexOf(o)===-1&&n.push(o)}}),n}},{key:"createAttr",value:function(e){var n=e.type,a=e.field,i=e.scale;if(P(a)||n===Br)return new Br(e);var o=this.scaleController.getScale(a),s=g(g({},e),{},{data:this.scaleController.getData(),scale:i?Sh(o,i):o});if(o&&o.type==="identity")return new Br(s);var u=o.isLinear?Fr:wh;return H(n)&&(u=n),q(n)&&Ln[Ce(n)]&&(u=Ln[Ce(n)]),new u(s)}},{key:"create",value:function(e){this.update(e)}},{key:"update",value:function(e){var n=this.scaleController,a=this.options,i=this.attrs,o={};G(e,function(s,u){var l=a[u];dt(s,l)&&(o[u]=i[u]);var f=s.field,c=s.justifyContent;f&&n.setScale(f,{justifyContent:c})}),this.options=e,this.attrs=o}},{key:"getAttr",value:function(e){var n=this.attrs,a=this.options,i=n[e];if(i)return i;var o=a[e];if(!o)return null;var s=this.createAttr(o);return n[e]=s,s}},{key:"getAttrs",value:function(){var e=this,n=this.options,a=this.attrs;return G(n,function(i,o){e.getAttr(o)}),a}},{key:"isGroupAttr",value:function(e){return Rn.indexOf(e)!==-1}},{key:"getAttrsByLinear",value:function(){var e=this.attrs,n=Object.keys(e),a=[],i=[];return n.forEach(function(o){if(o==="x"||o==="y"){a.push(o);return}var s=e[o].scale;s&&s.type==="linear"?a.push(o):i.push(o)}),{linearAttrs:a,nonlinearAttrs:i}}}]),t}(),Mh=bh,Ph=["field"],zt="origin",Ch=function(t){Y(e,t);var r=E(e);function e(n,a){var i;O(this,e),i=r.call(this,n,a),i.isGeometry=!0,i.justifyContent=!1,i.startOnZero=!1,i.connectNulls=!1,i.sortable=!1,V(he(i),i.getDefaultCfg());var o=n.chart,s=n.coord,u=i._getThemeAttrsRange();i.attrController=new Mh(o.scale,u);var l=he(i),f=l.attrController,c=l.justifyContent,h=f.getAttrOptions(n,!s.isCyclic()||c);return f.create(h),i}return I(e,[{key:"getDefaultCfg",value:function(){return{}}},{key:"willReceiveProps",value:function(a){B($(e.prototype),"willReceiveProps",this).call(this,a);var i=this.props,o=this.attrController,s=this.justifyContent,u=a.data,l=a.adjust,f=a.zoomRange,c=a.coord,h=i.data,v=i.adjust,p=i.zoomRange,y=!c.isCyclic()||s,d=o.getAttrOptions(a,y),m=o.getAttrOptions(i,y);dt(d,m)||(o.update(d),this.records=null),u!==h&&(this.records=null),l!==v&&(this.records=null),dt(f,p)||(this.records=null)}},{key:"willMount",value:function(){this._createAttrs(),this.records||this._processData()}},{key:"willUpdate",value:function(){this._createAttrs(),this.records||this._processData()}},{key:"didMount",value:function(){B($(e.prototype),"didMount",this).call(this),this._initEvent()}},{key:"_createAttrs",value:function(){var a=this.attrController;a.attrs={},this.attrs=a.getAttrs()}},{key:"_getThemeAttrsRange",value:function(){var a=this.context,i=this.props,o=this.geomType,s=i.coord,u=a.theme,l=u.colors,f=u.sizes,c=u.shapes;return{x:s.x,y:s.y,color:l,size:f,shape:c[o]}}},{key:"_adjustScales",value:function(){var a=this.attrs,i=this.props,o=this.startOnZero,s=i.chart,u=i.startOnZero,l=u===void 0?o:u,f=i.coord,c=i.adjust,h=f.isPolar,v=f.transposed;if(l){var p=a.y;s.scale.adjustStartZero(p.scale)}if(h&&v&&c==="stack"){var y=a.y;s.scale.adjustPieScale(y.scale)}}},{key:"_groupData",value:function(a){var i=this.attrController,o=i.getGroupScales();if(!o.length)return[{children:a}];var s=[];o.forEach(function(c){var h=c.field;s.push(h)});var u=Oo(a,s),l=[];for(var f in u)l.push({key:f.replace(/^_/,""),children:u[f]});return l}},{key:"_saveOrigin",value:function(a){for(var i=a.length,o=new Array(i),s=0;s<i;s++){var u=a[s];o[s]=g(g({},u),{},Tt({},zt,u))}return o}},{key:"_numberic",value:function(a){for(var i=this.attrs,o=[i.x.scale,i.y.scale],s=0,u=a.length;s<u;s++)for(var l=a[s],f=Math.min(2,o.length),c=0;c<f;c++){var h=o[c];if(h.isCategory){var v=h.field;l[v]=h.translate(l[v])}}}},{key:"_adjustData",value:function(a){var i=this.attrs,o=this.props,s=o.adjust;if(!s)return a;var u=typeof s=="string"?{type:s}:s,l=Ce(u.type);if(!Dn[l])throw new Error("not support such adjust : "+s);var f=i.x,c=i.y,h=f.field,v=c.field,p=new Dn[l](g({xField:h,yField:v},u));if(l==="Dodge")for(var y=0,d=a.length;y<d;y++)this._numberic(a[y]);return p.processAdjust(a),l==="Stack"&&this._updateStackRange(v,c.scale,a),this.adjust=p,a}},{key:"_updateStackRange",value:function(a,i,o){for(var s=bo(o),u=1/0,l=-1/0,f=0,c=s.length;f<c;f++){var h=s[f],v=Math.min.apply(null,h[a]),p=Math.max.apply(null,h[a]);v<u&&(u=v),p>l&&(l=p)}(u!==i.min||l!==i.max)&&i.change({min:u,max:l})}},{key:"_processData",value:function(){var a=this.props,i=a.data,o=this._saveOrigin(i),s=this._groupData(o),u=s.map(function(f){return f.children}),l=this._adjustData(u);this._adjustScales(),this.dataArray=l,this.sortable&&this._sortData(s),this.records=s}},{key:"_sortData",value:function(a){var i=this.getXScale(),o=i.field,s=i.type;s!=="identity"&&i.values.length>1&&G(a,function(u){var l=u.children;l.sort(function(f,c){return s==="timeCat"?Dr(f[zt][o])-Dr(c[zt][o]):i.translate(f[zt][o])-i.translate(c[zt][o])})})}},{key:"_initEvent",value:function(){var a=this,i=this.container,o=this.props,s=i.get("canvas");["onPressStart","onPress","onPressEnd","onPan","onPanStart","onPanEnd"].forEach(function(u){o[u]&&s.on(u.substr(2).toLowerCase(),function(l){l.geometry=a,o[u](l)})})}},{key:"getY0Value",value:function(){var a=this.attrs,i=this.props,o=i.chart,s=a.y.field,u=o.getScale(s);return o.scale.getZeroValue(u)}},{key:"_getShapeStyle",value:function(a,i){var o=this.context,s=this.props,u=this.geomType,l=o.theme,f=l.shape[u]||{},c=f.default,h=f[a],v=s.style,p=g(g({},c),h);if(!v||!Re(v))return p;var y=v.field,d=jt(v,Ph),m=y?i[y]:i;return G(d,function(_,w){H(_)?p[w]=_(m):p[w]=_}),p}},{key:"_mapping",value:function(a){for(var i=this.attrs,o=this.props,s=this.attrController,u=o.coord,l=s.getAttrsByLinear(),f=l.linearAttrs,c=l.nonlinearAttrs,h=s.getDefaultAttrValues(),v=0,p=a.length;v<p;v++){for(var y=a[v],d=y.children,m=g({},h),_=d[0],w=0,k=c.length;w<k;w++){var S=c[w],D=i[S];m[S]=D.mapping(_[D.field])}for(var b=0,C=d.length;b<C;b++){for(var x=d[b],T={},j=0;j<f.length;j++){var R=f[j],U=i[R];s.isGroupAttr(R)?m[R]=U.mapping(x[U.field]):T[R]=U.normalize(x[U.field])}var ot=u.convertPoint({x:T.x,y:T.y}),St=ot.x,Ot=ot.y,st=m.shape,It=this._getShapeStyle(st,x.origin),K=this.isSelected(x);V(x,m,{normalized:T,x:St,y:Ot,shapeName:st,shape:It,selected:K})}}return a}},{key:"mapping",value:function(){var a=this.records;return this._mapping(a),a}},{key:"getAttr",value:function(a){return this.attrController.getAttr(a)}},{key:"getXScale",value:function(){return this.getAttr("x").scale}},{key:"getYScale",value:function(){return this.getAttr("y").scale}},{key:"_getXSnap",value:function(a){var i=this.getXScale();if(i.isCategory)return i.invert(a);var o=i.invert(a),s=i.values,u=s.length;if(u===1||(s[0]+s[1])/2>o)return s[0];if((s[u-2]+s[u-1])/2<=o)return s[u-1];for(var l=1;l<u;l++)if((s[l-1]+s[l])/2<=o&&(s[l+1]+s[l])/2>o)return s[l];return null}},{key:"_getYSnapRecords",value:function(a,i){var o=this.getYScale(),s=o.field,u=o.invert(a);return o.isCategory?i.filter(function(l){return l[zt][s]===u}):i.filter(function(l){var f=l[s];return f[0]<=u&&f[1]>=u})}},{key:"flatRecords",value:function(){var a=this.records;return a.reduce(function(i,o){return i.concat(o.children)},[])}},{key:"getSnapRecords",value:function(a){var i=this.props,o=i.coord,s=i.adjust,u=o.invertPoint(a),l=this.getXScale(),f=this.getYScale(),c=this.flatRecords();if(s==="stack"&&o.isPolar&&o.transposed&&u.x>=0&&u.x<=1){var h=this._getYSnapRecords(u.y,c);return h}var v=[],p=this._getXSnap(u.x);if(!p)return v;for(var y=l.field,d=f.field,m=0,_=c.length;m<_;m++){var w=g(g({},c[m]),{},{xField:y,yField:d}),k=w[zt][y];(l.type==="timeCat"&&Dr(k)===p||k===p)&&v.push(w)}return v}},{key:"getLegendItems",value:function(){var a=this.attrController,i=a.getAttr("color");if(!i)return null;var o=i.scale;if(!o.isCategory)return null;var s=o.getTicks(),u=s.map(function(l){var f=l.text,c=l.tickValue,h=i.mapping(c);return{field:o.field,color:h,name:f,tickValue:c}});return u}}]),e}(Ac),io=Ch;function Th(t){if(Array.isArray(t))return qr(t)}function Ah(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ih(t){return Th(t)||Ah(t)||ei(t)||Oh()}var oo=function(t){return function(r){Y(n,r);var e=E(n);function n(){return O(this,n),e.apply(this,arguments)}return I(n,[{key:"getDefaultCfg",value:function(){return{geomType:"line",sortable:!0}}},{key:"splitPoints",value:function(i){for(var o=[],s=[],u=0,l=i.length;u<l;u++){var f=i[u],c=f.x,h=f.y;o.push(g(g({},f),{},{x:c,y:h[1]})),s.push(g(g({},f),{},{x:c,y:h[0]}))}return[o,s]}},{key:"splitNulls",value:function(i,o){if(o){for(var s=[],u=0,l=i.length;u<l;u++){var f=i[u],c=f.y;if(A(c)){if(isNaN(c[0]))continue;s.push(f);continue}isNaN(c)||s.push(f)}return s.length?[s]:[]}for(var h=[],v=[],p=0,y=i.length;p<y;p++){var d=i[p],m=d.y;if(A(m)){if(isNaN(m[0])){v.length&&(h.push(v),v=[]);continue}v.push(d);continue}if(isNaN(m)){v.length&&(h.push(v),v=[]);continue}v.push(d)}return v.length&&h.push(v),h}},{key:"mapping",value:function(){var i=this,o=B($(n.prototype),"mapping",this).call(this),s=this.props,u=this.connectNulls,l=s.coord,f=s.connectNulls,c=f===void 0?u:f;return o.map(function(h){var v=h.children,p=v[0]||{},y=p.size,d=p.color,m=p.shape,_=p.y,w=l.isPolar?[].concat(Ih(v),[v[0]]):v,k=i.splitNulls(w,c),S=k.map(function(D){var b=A(_)?i.splitPoints(D):[D,void 0],C=pt(b,2),x=C[0],T=C[1];return{size:y,color:d,shape:m,points:x,bottomPoints:T}});return g(g({},h),{},{children:S})})}},{key:"render",value:function(){var i=this.props,o=i.coord,s=this.mapping();return M(t,g(g({},i),{},{coord:o,records:s}))}}]),n}(io)};function Dh(t){for(var r=[],e=0;e<t.length;e++){var n=t[e];r=r.concat(n.points)}return r}function Lh(t){var r=t.y;return{x:t.x,y:A(r)?r[1]:r}}function Rh(t,r){for(var e=t.map(function(c){return Lh(c)}),n=e[0],a=e[e.length-1],i=a.x-n.x,o=n.x+i*r,s=1;s<e.length;s++){var u=e[s],l=e[s-1];if(o>=l.x&&o<=u.x){var f=(o-l.x)/(u.x-l.x);return{x:o,y:l.y+(u.y-l.y)*f}}}}function Nh(t){var r=t.record,e=t.appear,n=t.EndView,a=r.children,i=Dh(a),o=i[0].origin;return M("group",{animation:{appear:{easing:e.easing,duration:e.duration,onFrame:function(u){var l=this.element,f=l.get("children"),c=Rh(i,u);f.forEach(function(h){h.moveTo(c.x,c.y)})}}}},M(n,{origin:o}))}var Yh=function(t){var r=t.records,e=t.coord,n=t.animation,a=t.endView,i=e.left,o=e.top,s=e.width,u=e.height,l={easing:"linear",duration:450,clip:{type:"rect",property:["width"],attrs:{x:i,y:o,height:u},start:{width:0},end:{width:s}}};return M("group",null,r.map(function(f){var c=f.key,h=f.children;return M("group",{key:c},h.map(function(v){var p=v.points,y=v.color,d=v.size,m=v.shape;return M("polyline",{attrs:g(g({points:p.map(function(_){return{x:_.x,y:_.y}}),stroke:y},m),{},{lineWidth:d||m.lineWidth}),animation:Bt({update:{easing:"linear",duration:450,property:["points"]},appear:l},n)})}),a?M(Nh,{record:f,EndView:a,appear:l}):null)}))},Eh=oo(Yh),$h=function(t){return function(r){Y(n,r);var e=E(n);function n(){return O(this,n),e.apply(this,arguments)}return I(n,[{key:"getDefaultCfg",value:function(){return{geomType:"area",startOnZero:!0,sortable:!0}}},{key:"mapping",value:function(){var i=B($(n.prototype),"mapping",this).call(this),o=this.getY0Value(),s=this.props,u=this.startOnZero,l=s.coord,f=s.startOnZero,c=f===void 0?u:f,h=l.y[0];if(c){var v=l.convertPoint({x:0,y:o});h=v.y}for(var p=0,y=i.length;p<y;p++)for(var d=i[p],m=d.children,_=0,w=m.length;_<w;_++){var k=m[_],S=k.points,D=k.bottomPoints;D&&D.length?(D.reverse(),k.points=S.concat(D)):(S.push({x:S[S.length-1].x,y:h}),S.push({x:S[0].x,y:h}))}return i}}]),n}(oo(t))},Bh=function(t){var r=t.records,e=t.shape,n=t.animation,a=e==="smooth";return M("group",null,r.map(function(i){var o=i.key,s=i.children;return M("group",{key:o},s.map(function(u){var l=u.points,f=u.bottomPoints,c=u.color,h=u.shape;return a?M("custom",{attrs:g({points:l,lineWidth:"2px",fill:c},h),createPath:function(p){var y=[[0,0],[1,1]],d=(f==null?void 0:f.length)||0,m=l.slice(0,l.length-d),_=rr(m,!1,y);p.beginPath(),p.moveTo(m[0].x,m[0].y);for(var w=0,k=_.length;w<k;w++){var S=_[w];p.bezierCurveTo(S[1],S[2],S[3],S[4],S[5],S[6])}if(d){var D=rr(f,!1,y);p.lineTo(f[0].x,f[0].y);for(var b=0,C=D.length;b<C;b++){var x=D[b];p.bezierCurveTo(x[1],x[2],x[3],x[4],x[5],x[6])}}p.closePath()},calculateBox:function(){return fa(l)}}):M("polygon",{attrs:g({points:l,lineWidth:"2px",fill:c},h),animation:Bt({update:{easing:"linear",duration:450,property:["points"]}},n)})}))}))},Fh=$h(Bh),jh=function(t){return function(r){Y(n,r);var e=E(n);function n(){return O(this,n),e.apply(this,arguments)}return I(n,[{key:"getDefaultCfg",value:function(){return{geomType:"point"}}},{key:"render",value:function(){var i=this.props,o=i.coord,s=this.mapping();return M(t,g(g({},i),{},{coord:o,records:s}))}}]),n}(io)},Xh=function(t){var r=t.records,e=t.animation;return M("group",null,r.map(function(n){var a=n.key,i=n.children;return M("group",{key:a},i.map(function(o){var s=o.x,u=o.y,l=o.size,f=o.color,c=o.shapeName,h=o.shape;if(c==="rect"){var v=P(l)?h.size:l;return M("rect",{attrs:g(g({x:s-v,y:u-v,fill:f,stroke:f},h),{},{width:v*2,height:v*2}),animation:Bt({appear:{easing:"linear",duration:450},update:{easing:"linear",duration:450,property:["x","y","width","height","fill"]}},e)})}return M("circle",{attrs:g(g({x:s,y:u,fill:c==="circle"?f:null,stroke:c==="hollowCircle"?f:null},h),{},{r:P(l)?h.size:l}),animation:Bt({appear:{easing:"linear",duration:450},update:{easing:"linear",duration:450,property:["x","y","r","fill"]}},e)})}))}))},Hh=jh(Xh),zh=function(t){return function(r){Y(n,r);var e=E(n);function n(a){var i;O(this,n),i=e.call(this,a),i.style={};var o=i.props,s=o.chart,u=o.field,l=i.getScaleOption(a);return s.setScale(u,l),i}return I(n,[{key:"willReceiveProps",value:function(i){var o=this.props,s=i.chart,u=i.field,l=this.getScaleOption(i),f=this.getScaleOption(o);dt(l,f)||s.setScale(u,l)}},{key:"willMount",value:function(){this.updateCoord()}},{key:"willUpdate",value:function(){this.updateCoord()}},{key:"getScaleOption",value:function(i){var o=i.type,s=i.tickCount,u=i.range,l=i.mask,f=i.formatter,c=i.min,h=i.max,v=i.nice;return{type:o,tickCount:s,range:u,mask:l,formatter:f,min:c,max:h,nice:v}}},{key:"_getDimType",value:function(){var i=this.props,o=i.field,s=i.chart,u=s.getXScales(),l=u.filter(function(f){return f.field===o});return l.length>0?"x":"y"}},{key:"getMaxBBox",value:function(i,o){var s=this.context,u=s.measureText,l=o.labelOffset,f=0,c=0;i.forEach(function(v){var p=v.labelStyle,y=v.text,d=u(y,g(g({},o.label),p));f=Math.max(f,d.width),c=Math.max(c,d.height)});var h={width:f+l,height:c+l};return h}},{key:"_getPosition",value:function(){var i=this.props,o=i.position,s=i.coord;if(o)return o;var u=this._getDimType();return s.transposed?u==="x"?"left":"bottom":u==="x"?"bottom":"left"}},{key:"getTicks",value:function(){var i=this.props,o=i.field,s=i.chart,u=s.getScale(o),l=u.getTicks();return l=this._setTicksStyle(l),l=this._generateGridPoints(l),l}},{key:"_generateGridPoints",value:function(i){var o=this.props,s=o.chart,u=o.coord;if(!u.isPolar)return i;var l=this._getDimType();if(l!=="y")return i;var f=s.getXScales()[0],c=f.getTicks();return i.forEach(function(h){var v=c.map(function(p){return u.convertPoint({x:p.value,y:h.value})});v.push(v[0]),h.gridPoints=v}),i}},{key:"_setTicksStyle",value:function(i){var o=this,s=this.props,u=this.context,l=u.theme,f=u.px2hd,c=s.style,h=c===void 0?{}:c,v=l.axis;return G(v,function(p,y){if(h[y]!==null){var d=H(h[y])?void 0:h[y];q(p)||W(p)?o.style[y]=f(d)||p:o.style[y]=f(Bt(jr(p),d))}}),i.map(function(p,y){var d=h.label,m=h.grid,_=v.label,w=v.grid;return H(d)&&(p.labelStyle=f(V({},_,d(p.text,y,i)))),H(m)&&(p.gridStyle=f(V({},w,m(p.text,y,i.length)))),p})}},{key:"convertTicks",value:function(i){var o=this.props,s=o.coord,u=this._getDimType(),l=u==="x"?"y":"x";return i.map(function(f){var c,h,v=s.convertPoint((c={},Tt(c,u,f.value),Tt(c,l,0),c)),p=s.convertPoint((h={},Tt(h,u,f.value),Tt(h,l,1),h));return g(g({},f),{},{points:[v,p]})})}},{key:"measureLayout",value:function(){var i=this.props,o=i.visible,s=i.coord;if(o===!1)return null;var u=this.getTicks(),l=this.getMaxBBox(u,this.style),f=s.isPolar,c=this._getDimType(),h=l.width,v=l.height;if(f)return c==="y"?null:["top","right","bottom","left"].map(function(y){return{position:y,width:h,height:v}});var p=this._getPosition();return{position:p,width:h,height:v}}},{key:"updateCoord",value:function(){var i=this.props,o=i.chart,s=this.measureLayout();o.updateCoordFor(this,s)}},{key:"render",value:function(){var i=this.props,o=this.style,s=i.visible,u=i.coord;if(s===!1)return null;var l=this.getTicks(),f=this._getPosition(),c=this._getDimType();return M(t,g(g({},i),{},{style:o,ticks:this.convertTicks(l),coord:u,position:f,dimType:c}))}}]),n}(pe)};function Nn(t,r,e){var n=r.x-t.x,a=r.y-t.y,i=[n,a],o=N.length(i),s=o+e,u=n/o*s,l=a/o*s;return{x:t.x+u,y:t.y+l}}function Wh(t,r){var e=[r.x-t.x,r.y-t.y],n,a;return e[0]>0?n="left":e[0]<0?n="right":n="center",e[1]>0?a="top":e[1]<0?a="bottom":a="middle",{textAlign:n,textBaseline:a}}var Vh=function(r){var e=r.line,n=r.gridType,a=r.center,i=r.radius,o=r.ticks;if(!e)return null;if(n!=="line")return M("arc",{attrs:g({x:a.x,y:a.y,r:i},e)});var s=o.map(function(u){var l=u.points;return l[l.length-1]});return s.push(s[0]),M("polyline",{attrs:g({points:s},e)})},Gh=function(t){var r=t.ticks,e=t.coord,n=t.style,a=t.grid,i=e.center,o=n.grid,s=n.tickLine,u=n.line,l=n.labelOffset,f=n.label,c=r[0],h=c.points,v=h[h.length-1],p=N.length([v.x-i.x,v.y-i.y]);return M("group",null,o?r.map(function(y){var d=y.points,m=y.gridStyle,_=d[d.length-1];return M("line",{attrs:g(g({x1:i.x,y1:i.y,x2:_.x,y2:_.y},o),m)})}):null,s&&s.length?r.map(function(y){var d=y.points,m=d[d.length-1],_=Nn(i,m,s.length);return M("line",{attrs:g({x1:m.x,y1:m.y,x2:_.x,y2:_.y},s)})}):null,M(Vh,{line:u,gridType:a,center:i,radius:p,ticks:r}),f?r.map(function(y){var d=y.points,m=y.text,_=y.labelStyle,w=d[d.length-1],k=Nn(i,w,l);return M("text",{attrs:g(g(g({x:k.x,y:k.y,text:m},Wh(i,w)),f),_)})}):null)},qh=function(t){var r=t.ticks,e=t.coord,n=t.style,a=t.grid,i=e.center,o=n.grid,s=n.tickLine,u=n.line,l=n.labelOffset,f=n.label;return M("group",null,o?r.map(function(c){var h=c.points,v=c.gridStyle,p=c.gridPoints,y=h[h.length-1];return a!=="line"?M("arc",{attrs:g(g({x:i.x,y:i.y,r:N.length([y.x-i.x,y.y-i.y])},o),v)}):M("polyline",{attrs:g(g({points:p},o),v)})}):null,s&&s.length?r.map(function(c){var h=c.points,v=h[h.length-1];return M("line",{attrs:g({x1:v.x,y1:v.y,x2:v.x-s.length,y2:v.y},s)})}):null,u?M("line",{attrs:g({x1:r[0].points[0].x,y1:r[0].points[0].y,x2:r[r.length-1].points[0].x,y2:r[r.length-1].points[0].y},u)}):null,f?r.map(function(c){var h=c.points,v=c.text,p=c.labelStyle,y=h[h.length-1];return M("text",{attrs:g(g({x:y.x-l,y:y.y,text:v,textAlign:"right",textBaseline:"middle"},f),p)})}):null)},Uh=function(t){var r=t.ticks,e=t.coord,n=t.style,a=e.left,i=e.top,o=e.right,s=n.grid,u=n.tickLine,l=n.line,f=n.labelOffset,c=n.label;return M("group",null,s?r.map(function(h){var v=h.points,p=h.gridStyle,y=v[0],d=v[v.length-1];return M("line",{attrs:g(g({x1:y.x,y1:y.y,x2:d.x,y2:d.y},s),p)})}):null,u&&u.length?r.map(function(h){var v=h.points,p=v[v.length-1];return M("line",{attrs:g({x1:p.x,y1:p.y,x2:p.x,y2:p.y-u.length},u)})}):null,l?M("line",{attrs:g({x1:a,y1:i,x2:o,y2:i},l)}):null,c?r.map(function(h,v){var p=h.points,y=h.text,d=h.labelStyle,m=p[p.length-1];return M("text",{attrs:g(g({x:m.x,y:m.y-f,textAlign:"center",textBaseline:"bottom",text:y},c),d)})}):null)},Zh=function(t,r){var e=t.ticks,n=t.coord,a=t.style,i=t.animation,o=r.px2hd,s=n.left,u=n.right,l=n.bottom,f=a.grid,c=a.tickLine,h=a.line,v=a.labelOffset,p=a.label;return M("group",null,f?e.map(function(y){var d=y.points,m=y.tickValue,_=y.gridStyle,w=d[0],k=d[d.length-1];return M("line",{key:m,attrs:g(g({x1:w.x,y1:w.y,x2:k.x,y2:k.y},f),_)})}):null,c&&c.length?e.map(function(y){var d=y.points,m=y.tickValue,_=d[0];return M("line",{key:m,attrs:g({x1:_.x,y1:_.y,x2:_.x,y2:_.y+o(c.length)},c)})}):null,h?M("line",{attrs:g({x1:s,y1:l,x2:u,y2:l},h)}):null,p?e.map(function(y,d){var m=y.points,_=y.text,w=y.tickValue,k=y.labelStyle,S=m[0],D=k||p||{},b=D.align,C=b===void 0?"center":b,x=g(g({x:S.x,y:S.y+v,textBaseline:"top",text:_},p),k);return C==="between"?d===0?x.textAlign="start":d===e.length-1?x.textAlign="end":x.textAlign="center":x.textAlign=C,M("text",{key:w,attrs:x,animation:i||{appear:{easing:"linear",duration:300,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},update:{easing:"linear",duration:450,delay:0,property:["x","y"]},leave:{easing:"linear",duration:450,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}})}):null)},Jh=function(t){var r=t.ticks,e=t.coord,n=t.style,a=e.top,i=e.right,o=e.bottom,s=n.grid,u=n.tickLine,l=n.line,f=n.labelOffset,c=n.label;return M("group",null,s?r.map(function(h){var v=h.points,p=h.gridStyle,y=v[0],d=v[v.length-1];return M("line",{attrs:g(g({x1:y.x,y1:y.y,x2:d.x,y2:d.y},s),p)})}):null,u&&u.length?r.map(function(h){var v=h.points,p=v[v.length-1];return M("line",{attrs:g({x1:p.x,y1:p.y,x2:p.x+u.length,y2:p.y},u)})}):null,l?M("line",{attrs:g({x1:i,y1:a,x2:i,y2:o},l)}):null,c?r.map(function(h,v){var p=h.points,y=h.text,d=h.labelStyle,m=p[p.length-1];return M("text",{attrs:g(g({x:m.x+f,y:m.y,textAlign:"left",textBaseline:"middle",text:y},c),d)})}):null)},Kh=function(t){var r=t.ticks,e=t.coord,n=t.style,a=t.animation,i=e.left,o=e.top,s=e.bottom,u=n.grid,l=n.tickLine,f=n.line,c=n.labelOffset,h=n.label;return M("group",null,u?r.map(function(v){var p=v.points,y=v.tickValue,d=v.gridStyle,m=p[0],_=p[p.length-1];return M("line",{key:y,attrs:g(g({x1:m.x,y1:m.y,x2:_.x,y2:_.y},u),d)})}):null,l&&l.length?r.map(function(v){var p=v.points,y=v.tickValue,d=p[0];return M("line",{key:y,attrs:g({x1:d.x,y1:d.y,x2:d.x-l.length,y2:d.y},l)})}):null,f?M("line",{attrs:g({x1:i,y1:o,x2:i,y2:s},f)}):null,h?r.map(function(v,p){var y=v.tickValue,d=v.points,m=v.text,_=v.labelStyle,w=d[0];return M("text",{key:y,attrs:g(g({x:w.x-c,y:w.y,textAlign:"right",textBaseline:"middle",text:m},h),_),animation:a||{appear:{easing:"linear",duration:300,delay:0,property:["fillOpacity"],start:{fillOpacity:0},end:{fillOpacity:1}},update:{easing:"linear",duration:450,delay:0,property:["x","y"]},leave:{easing:"linear",duration:450,delay:0,property:["fillOpacity"],start:{fillOpacity:1},end:{fillOpacity:0}}}})}):null)};function Qh(t){return t.coord.isPolar}var tv=function(t){if(Qh(t)){var r=t.dimType;return r==="x"?M(Gh,g({},t)):M(qh,g({},t))}var e=t.position;return e==="right"?M(Jh,g({},t)):e==="left"?M(Kh,g({},t)):e==="top"?M(Uh,g({},t)):M(Zh,g({},t))},Yn=zh(tv);function ev(t,r){var e=t.minX,n=t.maxX,a=t.minY,i=t.maxY,o=r.x,s=r.y;return e<=o&&n>=o&&a<=s&&i>=s}var rv=function(t){return function(r){Y(n,r);var e=E(n);function n(a){var i;return O(this,n),i=e.call(this,a),i.triggerRef={},i.state={},i}return I(n,[{key:"willMount",value:function(){B($(n.prototype),"willMount",this).call(this),this.getGuideBBox()}},{key:"didMount",value:function(){var i=this,o=this.context,s=this.props,u=o.canvas,l=s.onClick;u.on("click",function(f){var c=f.points,h=i.triggerRef.current;if(!(!h||h.isDestroyed())){var v=h.getBBox();ev(v,c[0])&&(f.shape=h,l&&l(f))}})}},{key:"getGuideBBox",value:function(){var i=wi(this,this.render(),!1),o=i.get("attrs"),s=o.x,u=o.y,l=o.width,f=o.height,c={minX:s,minY:u,maxX:s+l,maxY:u+f,width:l,height:f};this.setState({guideBBox:c}),i.destroy()}},{key:"parseReplaceStr",value:function(i,o){var s={min:0,max:1,median:.5};if(!P(s[i]))return s[i];if(q(i)&&i.indexOf("%")!=-1&&!isNaN(Number(i.slice(0,-1)))){var u=Number(i.slice(0,-1)),l=u/100;return l}return o.scale(i)}},{key:"parsePoint",value:function(i){var o=this.props,s=o.chart,u=o.coord,l=s.getXScales()[0],f=s.getYScales()[0],c=this.parseReplaceStr(i[l.field],l),h=this.parseReplaceStr(i[f.field],f);return u.convertPoint({x:c,y:h})}},{key:"convertPoints",value:function(i){var o=this;return i.map(function(s){return o.parsePoint(s)})}},{key:"getGuideTheme",value:function(){var i=this.context,o=i.theme;return o.guide}},{key:"render",value:function(){var i=this.props,o=this.context,s=i.coord,u=i.records,l=u===void 0?[]:u,f=i.animation,c=i.chart,h=o.width,v=o.height,p=this.convertPoints(l),y=this.getGuideTheme(),d=this.state,m=d.guideWidth,_=d.guideHeight,w=d.guideBBox,k=f;return H(f)&&(k=f(p,c)),M(t,g(g({triggerRef:this.triggerRef,points:p,theme:y,coord:s},i),{},{canvasWidth:h,canvasHeight:v,guideWidth:m,guideHeight:_,guideBBox:w,animation:k}))}}]),n}(pe)},av=function(t,r){var e=t.theme,n=e===void 0?{}:e,a=Bt(g({},n.text),t),i=a.points,o=a.style,s=a.offsetX,u=a.offsetY,l=a.content,f=a.animation,c=i[0]||{},h=c.x,v=c.y,p=r.px2hd(s),y=r.px2hd(u),d=h+(p||0),m=v+(y||0);return M("text",{attrs:g({text:l,x:d,y:m},o),animation:Bt({update:{easing:"linear",duration:450,property:["x","y"]}},f)})},nv=rv(av);function uv(){const[t,r]=_e.exports.useState({name:"--",icon:"",temp:"--",obsTime:"--",text:"--",windDir:"--",windScale:"--",windSpeed:"--",precip:"--",humidity:"--"}),[e,n]=_e.exports.useState([]),[a,i]=_e.exports.useState([]),o=window.atob(vo().location),s=po();function u(){try{r(JSON.parse(window.localStorage.getItem("weatherInfo")||"{}"))}catch{console.log("weather info init error")}}function l(){s(-1)}async function f(){let _=[];try{_=(await yo(o)).hourly,window.localStorage.setItem("weatherHourly",JSON.stringify(_))}catch{console.log("data from netwook error")}if(!_.length)try{_=JSON.parse(window.localStorage.getItem("weatherHourly")||"[]")}catch{console.log("data from storage error")}n(_)}async function c(){let _=[];try{const{daily:w=[]}=await go(o);_=w.map(k=>La(Da({},k),{dayName:mo[new Date(k.fxDate).getDay()],iconUrl:Ra(k.iconDay,!0)})),window.localStorage.setItem("weatherDaily",JSON.stringify(_))}catch{console.log("data from network error")}if(!_.length)try{_=JSON.parse(window.localStorage.getItem("weatherDaily")||"[]")}catch{console.log("data from storage error")}i(_)}_e.exports.useEffect(()=>{u(),f(),c()},[]),_e.exports.useEffect(()=>{if(e.length){const _=e.map(b=>+b.temp),w={fxTime:{type:"timeCat",tickCount:24,nice:!1,formatter:b=>{const C=new Date(b).getHours();return`${C>12?C-12:C}${C>12?"pm":"am"}`}},temp:{type:"linear",timkCount:1,min:Math.min(0,Math.floor(Math.min(..._))-1),alias:"\u6E29\u5EA6"}},k=document.querySelector("#container").getContext("2d")||void 0,S=z(hn,{context:k,children:rt(Pc,{data:e,scale:w,children:[z(Yn,{field:"fxTime",style:{grid:{opacity:0},label:{fontFamily:"Alegreya Sans",fontWeight:"bold",fontSize:14}}}),z(Yn,{field:"temp",visible:!1}),z(Eh,{x:"fxTime",y:"temp",shape:"smooth",color:"#E9C939"}),z(Fh,{x:"fxTime",y:"temp",color:"rgba(233, 201, 57, 0.25)"}),z(Hh,{x:"fxTime",y:"temp",color:"#E9C939"}),e.map(b=>z(nv,{records:[b],content:`${b.temp}\u2103`,offsetX:-12,offsetY:-12},b.fxTime))]})});new hn(S.props).render()}},[e]);const{name:h,temp:v,icon:p,precip:y,humidity:d,windSpeed:m}=t;return rt("div",{className:"view__detail",children:[rt("header",{className:"header",children:[z("i",{className:"back",onClick:l}),rt("div",{className:"weather-base",children:[rt("section",{className:"naming",children:[z("p",{className:"name",children:h.split(",").join(`
`)}),z("p",{className:"value",children:v})]}),z("img",{className:"icon",src:Ra(p)})]}),rt("p",{className:"weather-tags",children:[rt("span",{className:"tag-item",children:[y,"mm"]}),rt("span",{className:"tag-item",children:[d,"%"]}),rt("span",{className:"tag-item",children:[m,"km/h"]})]})]}),rt("section",{className:"weather-hourly",children:[z("p",{className:"title",children:"Today"}),z("div",{className:"container-wrapper",children:z("canvas",{id:"container",style:{width:"400vw",height:"100%"}})})]}),rt("ul",{className:"weather-daily",children:[z("li",{className:"title",children:"This Week"}),a.map(_=>rt("li",{className:"item",children:[z("p",{className:"name",children:_.dayName}),z("img",{className:"icon",src:_.iconUrl}),rt("p",{className:"temp",children:[z("span",{className:"max value",children:_.tempMax}),z("span",{className:"min value",children:_.tempMin})]})]},_.fxDate))]})]})}export{uv as default};
